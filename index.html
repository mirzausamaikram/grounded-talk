<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/>
  <title>Confidential Peer Listening</title>
  <meta name="description" content="Confidential, non-clinical peer listening sessions for young adults in English, Arabic, Urdu, Hindi, and Punjabi.">
  <meta name="theme-color" content="#2d6a7b">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  
  <!-- Open Graph / Social Sharing -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Grounded Talk — Safe Space for Real Conversations">
  <meta property="og:description" content="Judgment-free peer listening for young adults. Confidential sessions in English, Arabic, Urdu, Hindi, and Punjabi.">
  <meta property="og:url" content="https://grounded-talk.vercel.app">
  <meta property="og:site_name" content="Grounded Talk">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Grounded Talk — Safe Space for Real Conversations">
  <meta name="twitter:description" content="Confidential peer listening sessions for young adults navigating life's messy middle.">
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json">
  
  <!-- Privacy & security meta policies -->
  <meta name="referrer" content="strict-origin-when-cross-origin">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' data:; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline'; font-src 'self'; base-uri 'self'; frame-ancestors 'none'; upgrade-insecure-requests; manifest-src 'self'">
  <style>
    :root {
      --bg-primary: #ffffff;
      --bg-secondary: #f0f4f8;
      --bg-gradient-start: #f0f4f8;
      --bg-gradient-end: #e8f1f7;
      --text-primary: #1a2332;
      --text-secondary: #2c3e50;
      --text-muted: #465973;
      --accent-primary: #2d6a7b;
      --accent-secondary: #2d6a7b;
      --accent-dark: #1b4965;
      --border-color: rgba(45, 106, 123, 0.1);
    }

    [data-theme="dark"] {
      --bg-primary: #1a1a2e;
      --bg-secondary: #16213e;
      --bg-gradient-start: #0f3460;
      --bg-gradient-end: #16213e;
      --text-primary: #e0e0e0;
      --text-secondary: #b0b0b0;
      --text-muted: #808080;
      --accent-primary: #4a9bb5;
      --accent-secondary: #4a9bb5;
      --accent-dark: #2d7a99;
      --border-color: rgba(74, 155, 181, 0.2);
    }

    * {
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', sans-serif;
      background: linear-gradient(135deg, var(--bg-gradient-start) 0%, var(--bg-gradient-end) 50%, var(--bg-secondary) 100%);
      color: var(--text-primary);
      margin: 0;
      padding: 0;
      line-height: 1.8;
      transition: background 0.3s ease, color 0.3s ease;
    }

    /* Listening waves themed background overlay */
    body::before {
      content: "";
      position: fixed;
      inset: 0;
      z-index: -1;
      pointer-events: none;
      background-image:
        radial-gradient(700px 700px at 8% 0%, rgba(45, 106, 123, 0.10), transparent 60%),
        radial-gradient(600px 600px at 95% 100%, rgba(27, 73, 101, 0.12), transparent 60%),
        conic-gradient(from 210deg at 70% 30%, rgba(74, 155, 181, 0.08), transparent 30%),
        repeating-linear-gradient(120deg, rgba(45, 106, 123, 0.05) 0 2px, transparent 2px 18px);
      background-blend-mode: screen, screen, normal, normal;
      background-position: 0% 0%, 100% 100%, 50% 50%, 0 0;
      animation: themeDrift 120s ease-in-out infinite;
    }

    [data-theme="dark"] body::before {
      background-image:
        radial-gradient(700px 700px at 8% 0%, rgba(74, 155, 181, 0.08), transparent 60%),
        radial-gradient(600px 600px at 95% 100%, rgba(45, 106, 123, 0.10), transparent 60%),
        conic-gradient(from 210deg at 70% 30%, rgba(74, 155, 181, 0.06), transparent 30%),
        repeating-linear-gradient(120deg, rgba(45, 106, 123, 0.04) 0 2px, transparent 2px 18px);
      background-position: 0% 0%, 100% 100%, 50% 50%, 0 0;
      animation: themeDrift 120s ease-in-out infinite;
    }

    @media (max-width: 768px) {
      body::before {
        background-image:
          radial-gradient(600px 600px at 0% 0%, rgba(45, 106, 123, 0.08), transparent 60%),
          radial-gradient(500px 500px at 100% 100%, rgba(27, 73, 101, 0.10), transparent 60%),
          conic-gradient(from 210deg at 70% 30%, rgba(74, 155, 181, 0.06), transparent 30%),
          repeating-linear-gradient(120deg, rgba(45, 106, 123, 0.035) 0 2px, transparent 2px 18px);
        background-position: 0% 0%, 100% 100%, 50% 50%, 0 0;
        animation: themeDrift 120s ease-in-out infinite;
      }
    }

    .theme-toggle {
      position: fixed;
      top: 16px;
      right: 16px;
      z-index: 101;
      background: var(--accent-secondary);
      border: none;
      color: white;
      padding: 10px 16px;
      border-radius: 20px;
      cursor: pointer;
      font-size: 1rem;
      font-weight: 600;
      transition: all 0.3s ease;
      box-shadow: 0 2px 8px rgba(45, 106, 123, 0.2);
    }

    .theme-toggle:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(45, 106, 123, 0.3);
    }

    nav {
      position: sticky;
      top: 0;
      background: linear-gradient(90deg, rgba(45, 106, 123, 0.92), rgba(27, 73, 101, 0.92));
      backdrop-filter: saturate(140%) blur(12px);
      padding: 12px 24px;
      border-bottom: none;
      z-index: 100;
      box-shadow: 0 6px 20px rgba(27, 73, 101, 0.15);
      transition: background 0.3s ease, box-shadow 0.3s ease;
      display: flex;
      gap: 12px;
      justify-content: center;
      align-items: center;
    }

    [data-theme="dark"] nav {
      background: linear-gradient(90deg, rgba(74, 155, 181, 0.9), rgba(45, 106, 123, 0.9));
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.35);
    }

    nav::after {
      content: "";
      position: absolute;
      left: 0; right: 0; bottom: 0;
      height: 2px;
      background: linear-gradient(90deg, var(--accent-secondary), var(--accent-dark));
      opacity: 0.6;
      pointer-events: none;
    }

    nav a {
      color: #ffffff;
      text-decoration: none;
      font-weight: 700;
      font-size: 0.95rem;
      padding: 8px 12px;
      margin: 0 4px;
      border-radius: 18px;
      transition: all 0.2s ease;
    }

    nav a:hover {
      background: rgba(255, 255, 255, 0.12);
      transform: translateY(-1px);
    }

    nav a:focus {
      outline: none;
      box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.25);
    }

    [data-theme="dark"] nav a:hover {
      background: rgba(255, 255, 255, 0.14);
    }

    .container {
      max-width: 760px;
      margin: 0 auto;
      padding: 60px 32px;
      background: linear-gradient(180deg, var(--bg-primary) 0%, rgba(248, 251, 253, 0.8) 100%);
      box-shadow: 0 8px 24px rgba(45, 106, 123, 0.08);
      border-radius: 16px;
      margin-top: 40px;
      margin-bottom: 40px;
      border: 1px solid var(--border-color);
      transition: background 0.3s ease, box-shadow 0.3s ease;
    }

    [data-theme="dark"] .container {
      background: linear-gradient(180deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
    }

    header {
      margin-bottom: 56px;
      padding-bottom: 32px;
      border-bottom: 2px solid var(--border-color);
      animation: fadeInDown 0.6s ease;
    }

    /* Rainbow gradient text utility */
    .rainbow-text {
      background: linear-gradient(90deg,
        #ff7aa2,
        #ffd166,
        #06d6a0,
        #4a9bb5,
        #a78bfa
      );
      background-size: 200% auto;
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      color: transparent;
      animation: rainbowShift 20s linear infinite;
      font-weight: 700;
    }
    @keyframes themeDrift {
      0% {
        background-position: 0% 0%, 100% 100%, 50% 50%, 0 0;
      }
      50% {
        background-position: 3% 1%, 97% 99%, 52% 48%, 8px 8px;
      }
      100% {
        background-position: 0% 0%, 100% 100%, 50% 50%, 0 0;
      }
    }

    @keyframes rainbowShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    @keyframes fadeInDown {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Welcome Popup */
    .welcome-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(6px);
      z-index: 1001;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.4s ease;
    }

    .welcome-overlay.show {
      opacity: 1;
      pointer-events: all;
    }

    .welcome-popup {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.8) rotateX(10deg);
      background: linear-gradient(135deg, var(--bg-primary) 0%, rgba(45, 106, 123, 0.05) 100%);
      padding: 48px;
      border-radius: 20px;
      box-shadow: 0 20px 70px rgba(45, 106, 123, 0.3), 0 0 1px rgba(255, 255, 255, 0.5) inset;
      border: 2px solid rgba(45, 106, 123, 0.2);
      z-index: 1002;
      max-width: 520px;
      width: 90%;
      opacity: 0;
      pointer-events: none;
      transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    .welcome-popup.show {
      opacity: 1;
      transform: translate(-50%, -50%) scale(1) rotateX(0deg);
      pointer-events: all;
    }

    .welcome-close {
      position: absolute;
      top: 16px;
      right: 16px;
      width: 36px;
      height: 36px;
      border: none;
      background: rgba(45, 106, 123, 0.1);
      color: var(--text-secondary);
      border-radius: 50%;
      font-size: 20px;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .welcome-close:hover {
      background: rgba(45, 106, 123, 0.2);
      color: var(--accent-dark);
      transform: rotate(90deg);
    }

    .welcome-content {
      text-align: center;
    }

    .welcome-emoji {
      font-size: 4rem;
      margin-bottom: 16px;
      display: inline-block;
      animation: bounceEmoji 2s ease-in-out infinite;
    }

    @keyframes bounceEmoji {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-12px); }
    }

    .welcome-title {
      font-size: 2rem;
      font-weight: 700;
      color: var(--accent-dark);
      margin: 0 0 8px 0;
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .welcome-subtitle {
      font-size: 1rem;
      color: var(--text-secondary);
      margin: 0 0 24px 0;
      font-style: italic;
    }

    .welcome-stats {
      display: flex;
      gap: 12px;
      justify-content: center;
      margin-bottom: 24px;
      flex-wrap: wrap;
    }

    .stat-card {
      background: linear-gradient(135deg, rgba(45, 106, 123, 0.1), rgba(45, 106, 123, 0.05));
      padding: 16px 12px;
      border-radius: 12px;
      border: 1px solid rgba(45, 106, 123, 0.2);
      min-width: 100px;
      transition: all 0.3s ease;
    }

    .stat-card:hover {
      transform: translateY(-4px);
      border-color: var(--accent-primary);
      box-shadow: 0 8px 16px rgba(45, 106, 123, 0.15);
    }

    .stat-number {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--accent-primary);
    }

    .stat-label {
      font-size: 0.75rem;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .welcome-description {
      color: var(--text-primary);
      font-size: 0.95rem;
      margin: 0 0 20px 0;
      line-height: 1.5;
    }

    .welcome-features {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-bottom: 24px;
      text-align: left;
      background: rgba(45, 106, 123, 0.05);
      padding: 16px;
      border-radius: 12px;
      border-left: 4px solid var(--accent-primary);
    }

    .feature {
      font-size: 0.9rem;
      color: var(--text-primary);
    }

    .welcome-cta {
      display: inline-block;
      background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-secondary) 100%);
      color: white;
      padding: 14px 32px;
      border-radius: 12px;
      text-decoration: none;
      font-weight: 600;
      font-size: 1rem;
      box-shadow: 0 8px 20px rgba(45, 106, 123, 0.3);
      transition: all 0.3s ease;
      border: none;
      cursor: pointer;
    }

    .welcome-cta:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 28px rgba(45, 106, 123, 0.4);
    }

    .welcome-footer {
      margin-top: 16px;
      font-size: 0.85rem;
      color: var(--text-muted);
      font-style: italic;
    }

    @media (max-width: 600px) {
      .welcome-popup {
        padding: 32px 24px;
      }

      .welcome-title {
        font-size: 1.5rem;
      }

      .welcome-emoji {
        font-size: 3rem;
      }

      .welcome-stats {
        gap: 8px;
      }

      .stat-card {
        min-width: 80px;
        padding: 12px 8px;
      }
    }

    /* Exit Intent Popup */
    .exit-intent-popup {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.9);
      background: var(--bg-primary);
      padding: 32px;
      border-radius: 16px;
      box-shadow: 0 20px 60px rgba(45, 106, 123, 0.25);
      border: 2px solid var(--accent-secondary);
      z-index: 1000;
      max-width: 500px;
      width: 90%;
      opacity: 0;
      pointer-events: none;
      transition: all 0.3s ease;
    }

    .exit-intent-popup.show {
      opacity: 1;
      transform: translate(-50%, -50%) scale(1);
      pointer-events: all;
    }

    .exit-intent-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(4px);
      z-index: 999;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
    }

    .exit-intent-overlay.show {
      opacity: 1;
      pointer-events: all;
    }

    /* Chat Widget Styles */
    .chat-bubble {
      position: fixed;
      right: 20px;
      bottom: 180px;
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, var(--accent-primary) 0%, #1b4965 100%);
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      font-size: 28px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 10px 30px rgba(45, 106, 123, 0.5), inset 0 1px 2px rgba(255, 255, 255, 0.3);
      z-index: 103;
      transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
      animation: floatBubble 3s ease-in-out infinite;
    }

    .chat-bubble:hover {
      transform: scale(1.15) translateY(-4px);
      box-shadow: 0 15px 40px rgba(45, 106, 123, 0.6), inset 0 1px 2px rgba(255, 255, 255, 0.5);
    }

    .chat-bubble:active {
      transform: scale(0.95);
    }

    @keyframes floatBubble {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-8px); }
    }

    @keyframes pulse {
      0%, 100% { box-shadow: 0 10px 30px rgba(45, 106, 123, 0.5), inset 0 1px 2px rgba(255, 255, 255, 0.3); }
      50% { box-shadow: 0 12px 35px rgba(45, 106, 123, 0.7), inset 0 1px 2px rgba(255, 255, 255, 0.3); }
    }

    .chat-widget {
      position: fixed;
      right: 20px;
      bottom: 90px;
      width: 380px;
      height: 600px;
      background: var(--bg-secondary);
      border-radius: 12px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
      z-index: 103;
      display: flex;
      flex-direction: column;
      opacity: 0;
      transform: translateY(20px) scale(0.9);
      pointer-events: none;
      transition: all 0.3s ease;
      border: 1px solid var(--border-color);
    }

    .chat-widget.show {
      opacity: 1;
      transform: translateY(0) scale(1);
      pointer-events: all;
    }

    .chat-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px;
      background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-secondary) 100%);
      color: white;
      border-radius: 12px 12px 0 0;
      border-bottom: 1px solid var(--accent-dark);
    }

    .chat-title {
      font-weight: 700;
      font-size: 1rem;
    }

    .chat-close {
      background: none;
      border: none;
      color: white;
      font-size: 1.5rem;
      cursor: pointer;
      padding: 0;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.2s ease;
    }

    .chat-close:hover {
      transform: rotate(90deg);
    }

    .chat-tabs {
      display: flex;
      border-bottom: 1px solid var(--border-color);
      background: var(--bg-primary);
    }

    .chat-tab {
      flex: 1;
      background: none;
      border: none;
      padding: 12px 16px;
      cursor: pointer;
      color: var(--text-secondary);
      font-weight: 600;
      font-size: 0.9rem;
      transition: all 0.2s ease;
      border-bottom: 3px solid transparent;
    }

    .chat-tab.active {
      color: var(--accent-primary);
      border-bottom-color: var(--accent-primary);
    }

    .chat-tab:hover {
      background: rgba(45, 106, 123, 0.05);
    }

    .chat-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .messages-container {
      flex: 1;
      overflow-y: auto;
      padding: 16px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .message {
      display: flex;
      flex-direction: column;
      gap: 4px;
      animation: slideIn 0.3s ease;
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .user-message {
      align-items: flex-end;
    }

    .user-message .message-text {
      background: var(--accent-primary);
      color: white;
      padding: 12px 14px;
      border-radius: 12px 12px 4px 12px;
      word-wrap: break-word;
      max-width: 85%;
    }

    .bot-message {
      align-items: flex-start;
    }

    .bot-message .message-text {
      background: var(--bg-tertiary);
      color: var(--text-primary);
      padding: 12px 14px;
      border-radius: 12px 12px 12px 4px;
      word-wrap: break-word;
      max-width: 85%;
      border: 1px solid var(--border-color);
    }

    .message-time {
      font-size: 0.75rem;
      color: var(--text-muted);
      padding: 0 4px;
    }

    .language-badge {
      display: inline-block;
      margin-right: 6px;
      font-size: 0.95rem;
    }

    .typing-indicator {
      display: flex;
      gap: 4px;
      align-items: flex-start;
    }

    .typing-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--accent-primary);
      animation: typingBounce 1.4s infinite;
    }

    .typing-dot:nth-child(2) {
      animation-delay: 0.2s;
    }

    .typing-dot:nth-child(3) {
      animation-delay: 0.4s;
    }

    @keyframes typingBounce {
      0%, 60%, 100% { transform: translateY(0); }
      30% { transform: translateY(-10px); }
    }

    .chat-input-area {
      display: flex;
      gap: 8px;
      padding: 12px;
      border-top: 1px solid var(--border-color);
      background: var(--bg-primary);
    }

    .chat-input {
      flex: 1;
      border: 1px solid var(--border-color);
      border-radius: 20px;
      padding: 10px 14px;
      font-family: inherit;
      font-size: 0.9rem;
      background: var(--bg-secondary);
      color: var(--text-primary);
      transition: all 0.2s ease;
    }

    .chat-input:focus {
      outline: none;
      border-color: var(--accent-primary);
      box-shadow: 0 0 0 2px rgba(45, 106, 123, 0.1);
    }

    .chat-send {
      background: var(--accent-primary);
      color: white;
      border: none;
      border-radius: 50%;
      width: 36px;
      height: 36px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.1rem;
      transition: all 0.2s ease;
    }

    .chat-send:hover {
      background: var(--accent-dark);
      transform: scale(1.05);
    }

    .message-form {
      display: flex;
      flex-direction: column;
      gap: 12px;
      padding: 16px;
      overflow-y: auto;
    }

    .form-input,
    .form-textarea {
      border: 1px solid var(--border-color);
      border-radius: 8px;
      padding: 10px 12px;
      font-family: inherit;
      font-size: 0.9rem;
      background: var(--bg-secondary);
      color: var(--text-primary);
      transition: all 0.2s ease;
    }

    .form-input:focus,
    .form-textarea:focus {
      outline: none;
      border-color: var(--accent-primary);
      box-shadow: 0 0 0 2px rgba(45, 106, 123, 0.1);
    }

    .form-textarea {
      resize: vertical;
      font-family: inherit;
    }

    .chat-send-button {
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
      color: white;
      border: none;
      border-radius: 8px;
      padding: 10px 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      align-self: flex-end;
    }

    .chat-send-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(45, 106, 123, 0.3);
    }

    .chat-send-button:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    /* Mobile responsive chat */
    @media (max-width: 768px) {
      .chat-widget {
        right: 0;
        left: 0;
        bottom: 60px;
        width: 100%;
        height: calc(100vh - 80px);
        border-radius: 12px 12px 0 0;
      }

      .chat-bubble {
        right: 16px;
        bottom: 138px;
      }

      .back-to-top {
        right: 16px;
        bottom: 68px;
      }

      .user-message .message-text,
      .bot-message .message-text {
        max-width: 100%;
      }
    }

    @media (prefers-reduced-motion: reduce) {
      .chat-bubble {
        animation: none;
      }

      .chat-widget,
      .message {
        transition: none;
      }
    }

    /* Admin Panel Styles */
    .admin-panel {
      position: fixed;
      bottom: 20px;
      right: 90px;
      width: 420px;
      max-height: 600px;
      background: var(--bg-primary);
      border-radius: 12px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
      z-index: 1500;
      display: flex;
      flex-direction: column;
      border: 1px solid var(--border-color);
      visibility: hidden;
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.3s ease;
    }

    .admin-panel.show {
      visibility: visible;
      opacity: 1;
      transform: translateY(0);
    }

    .admin-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px;
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
      color: white;
      border-radius: 12px 12px 0 0;
      border-bottom: 1px solid var(--accent-dark);
    }

    .admin-header h3 {
      margin: 0;
      font-size: 1rem;
    }

    .admin-close {
      background: none;
      border: none;
      color: white;
      font-size: 1.5rem;
      cursor: pointer;
      padding: 0;
    }

    .admin-close:hover {
      transform: rotate(90deg);
      transition: transform 0.2s ease;
    }

    .admin-tabs {
      display: flex;
      border-bottom: 1px solid var(--border-color);
      background: var(--bg-secondary);
    }

    .admin-tab {
      flex: 1;
      background: none;
      border: none;
      padding: 12px;
      cursor: pointer;
      font-size: 0.85rem;
      color: var(--text-secondary);
      font-weight: 600;
      border-bottom: 3px solid transparent;
      transition: all 0.2s ease;
    }

    .admin-tab.active {
      color: var(--accent-primary);
      border-bottom-color: var(--accent-primary);
    }

    .admin-tab:hover {
      background: rgba(45, 106, 123, 0.05);
    }

    .admin-tab-content {
      padding: 16px;
      overflow-y: auto;
      flex: 1;
      display: none;
    }

    .admin-tab-content.active {
      display: block;
    }

    .messages-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
      max-height: 400px;
      overflow-y: auto;
    }

    .message-item {
      background: var(--bg-secondary);
      padding: 12px;
      border-radius: 8px;
      border: 1px solid var(--border-color);
      font-size: 0.85rem;
    }

    /* Free Call Modal */
    .free-call-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(6px);
      z-index: 2000;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
    }

    .free-call-overlay.show {
      opacity: 1;
      pointer-events: all;
    }

    .free-call-modal {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.8);
      background: var(--bg-primary);
      padding: 40px;
      border-radius: 16px;
      box-shadow: 0 20px 60px rgba(45, 106, 123, 0.3);
      border: 2px solid rgba(45, 106, 123, 0.2);
      z-index: 2001;
      max-width: 480px;
      width: 90%;
      opacity: 0;
      pointer-events: none;
      transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    .free-call-modal.show {
      opacity: 1;
      transform: translate(-50%, -50%) scale(1);
      pointer-events: all;
    }

    .free-call-close {
      position: absolute;
      top: 12px;
      right: 12px;
      width: 32px;
      height: 32px;
      border: none;
      background: rgba(45, 106, 123, 0.1);
      color: var(--text-secondary);
      border-radius: 50%;
      font-size: 18px;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .free-call-close:hover {
      background: rgba(45, 106, 123, 0.2);
      transform: rotate(90deg);
    }

    .free-call-content {
      display: flex;
      flex-direction: column;
    }

    .free-call-form {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .form-input-free {
      border: 1px solid var(--border-color);
      border-radius: 8px;
      padding: 12px;
      font-family: inherit;
      font-size: 0.95rem;
      background: var(--bg-secondary);
      color: var(--text-primary);
      transition: all 0.2s ease;
    }

    .form-input-free:focus {
      outline: none;
      border-color: var(--accent-primary);
      box-shadow: 0 0 0 2px rgba(45, 106, 123, 0.1);
    }

    .free-call-submit {
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
      color: white;
      border: none;
      border-radius: 8px;
      padding: 12px 16px;
      font-weight: 600;
      font-size: 0.95rem;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .free-call-submit:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(45, 106, 123, 0.3);
    }

    @media (max-width: 600px) {
      .free-call-modal {
        padding: 24px;
      }
    }

    .message-from {
      font-weight: 600;
      color: var(--accent-primary);
      margin-bottom: 4px;
    }

    .message-text {
      color: var(--text-primary);
      margin-bottom: 6px;
      word-wrap: break-word;
    }

    .message-time {
      font-size: 0.75rem;
      color: var(--text-muted);
    }

    .admin-btn {
      width: 100%;
      padding: 10px 12px;
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      margin-bottom: 8px;
      transition: all 0.2s ease;
    }

    .admin-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(45, 106, 123, 0.3);
    }

    .admin-btn.admin-danger {
      background: linear-gradient(135deg, #d32f2f, #c62828);
    }

    .admin-btn.admin-danger:hover {
      box-shadow: 0 4px 12px rgba(211, 47, 47, 0.3);
    }

    .admin-toggle {
      position: fixed;
      bottom: 20px;
      right: 520px;
      width: 50px;
      height: 50px;
      background: linear-gradient(135deg, #6c63ff, #5a54d4);
      border: none;
      border-radius: 50%;
      color: white;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(108, 99, 255, 0.3);
      transition: all 0.2s ease;
      z-index: 1499;
      display: none;
    }

    .admin-toggle:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 16px rgba(108, 99, 255, 0.4);
    }

    .admin-toggle.show {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* Modal Styles for Free Call Booking */
    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(6px);
      z-index: 2000;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
    }

    .modal-overlay.show {
      opacity: 1;
      pointer-events: all;
    }

    .modal-popup {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.9);
      background: var(--bg-primary);
      border-radius: 16px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      z-index: 2001;
      max-width: 520px;
      width: 90%;
      max-height: 90vh;
      overflow-y: auto;
      opacity: 0;
      pointer-events: none;
      transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
      border: 1px solid var(--border-color);
    }

    .modal-popup.show {
      opacity: 1;
      transform: translate(-50%, -50%) scale(1);
      pointer-events: all;
    }

    .modal-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 20px;
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
      color: white;
      border-radius: 16px 16px 0 0;
      border-bottom: 1px solid var(--accent-dark);
      position: sticky;
      top: 0;
      z-index: 10;
    }

    .modal-header h3 {
      font-size: 1.1rem;
    }

    .modal-close {
      background: none;
      border: none;
      color: white;
      font-size: 1.5rem;
      cursor: pointer;
      padding: 0;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.2s ease;
    }

    .modal-close:hover {
      transform: rotate(90deg);
    }

    .modal-body {
      padding: 24px;
    }

    .booking-form {
      display: flex;
      flex-direction: column;
      gap: 14px;
    }

    .form-input,
    .form-textarea {
      border: 1px solid var(--border-color);
      border-radius: 8px;
      padding: 11px 14px;
      font-family: inherit;
      font-size: 0.9rem;
      background: var(--bg-secondary);
      color: var(--text-primary);
      transition: all 0.2s ease;
    }

    .form-input:focus,
    .form-textarea:focus {
      outline: none;
      border-color: var(--accent-primary);
      box-shadow: 0 0 0 3px rgba(45, 106, 123, 0.1);
    }

    .modal-cta {
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
      color: white;
      border: none;
      border-radius: 8px;
      padding: 12px 20px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      margin-top: 8px;
    }

    .modal-cta:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(45, 106, 123, 0.3);
    }

    @media (max-width: 768px) {
      .admin-panel {
        width: calc(100% - 40px);
        right: 20px;
        max-height: 400px;
      }

      .admin-toggle {
        bottom: 100px;
        right: 20px;
      }
    }


    .exit-intent-close {
      position: absolute;
      top: 12px;
      right: 12px;
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      color: var(--text-muted);
      padding: 4px 8px;
      line-height: 1;
      transition: color 0.2s ease;
    }

    .exit-intent-close:hover {
      color: var(--text-primary);
    }

    @keyframes slideInLeft {
      from {
        opacity: 0;
        transform: translateX(-20px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    h1 {
      font-size: 2.35rem;
      line-height: 1.3;
      margin: 0 0 18px 0;
      font-weight: 700;
      color: var(--accent-dark);
      letter-spacing: -0.01em;
    }

    h2 {
      font-size: 1.45rem;
      line-height: 1.35;
      margin: 48px 0 24px 0;
      font-weight: 700;
      color: var(--accent-secondary);
      letter-spacing: -0.005em;
    }

    h3 {
      font-size: 1.15rem;
      margin: 24px 0 12px 0;
      font-weight: 700;
      color: var(--accent-dark);
    }

    h2:first-of-type {
      margin-top: 0;
    }

    section {
      margin-bottom: 40px;
      padding: 24px;
      background: linear-gradient(135deg, rgba(45, 106, 123, 0.05) 0%, rgba(196, 160, 214, 0.05) 100%);
      border-radius: 12px;
      border: 1px solid var(--border-color);
      animation: fadeInUp 0.6s ease;
      transition: background 0.3s ease;
    }

    [data-theme="dark"] section {
      background: linear-gradient(135deg, rgba(74, 155, 181, 0.1) 0%, rgba(122, 113, 143, 0.08) 100%);
    }

    section:last-of-type {
      margin-bottom: 0;
    }

    .divider {
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--border-color), transparent);
      margin: 40px 0;
      border: none;
    }

    p {
      margin: 0 0 18px 0;
      color: var(--text-secondary);
      font-size: 1.02rem;
      line-height: 1.8;
    }

    p:last-child {
      margin-bottom: 0;
    }

    ul {
      list-style: none;
      padding-left: 0;
      margin: 20px 0;
      display: flex;
      flex-direction: column;
      gap: 14px;
    }

    li {
      padding-left: 40px;
      position: relative;
      color: var(--text-secondary);
      font-size: 1.02rem;
      line-height: 1.7;
    }

    li:before {
      content: '◆';
      position: absolute;
      left: 8px;
      color: var(--accent-primary);
      font-size: 1rem;
      font-weight: 600;
      line-height: 1;
    }

    .subheadline {
      font-size: 1.125rem;
      color: var(--text-muted);
      margin: 18px 0 0 0;
      line-height: 1.7;
      font-weight: 400;
    }

    .availability-badge {
      display: inline-block;
      background: linear-gradient(135deg, var(--accent-secondary) 0%, var(--accent-dark) 100%);
      color: white;
      padding: 8px 16px;
      border-radius: 20px;
      font-weight: 700;
      font-size: 0.9rem;
      margin: 16px 0;
      transition: transform 0.3s ease;
    }

    .availability-badge:hover {
      transform: scale(1.05);
    }

    .social-proof {
      display: flex;
      gap: 24px;
      margin: 20px 0;
      flex-wrap: wrap;
    }

    .proof-card {
      flex: 1;
      min-width: 150px;
      background: linear-gradient(135deg, var(--accent-secondary) 0%, var(--accent-dark) 100%);
      color: white;
      padding: 20px;
      border-radius: 12px;
      text-align: center;
      box-shadow: 0 4px 12px rgba(45, 106, 123, 0.2);
      transition: transform 0.3s ease;
    }

    .proof-card:hover {
      transform: translateY(-4px);
    }

    .proof-card .number {
      font-size: 2.2rem;
      font-weight: 700;
      line-height: 1;
      margin-bottom: 8px;
    }

    .proof-card .label {
      font-size: 0.95rem;
      opacity: 0.95;
    }

    .before-after {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 24px;
      margin: 24px 0;
    }

    .before-after-card {
      background: rgba(45, 106, 123, 0.08);
      padding: 24px;
      border-radius: 12px;
      border: 2px solid var(--border-color);
      transition: all 0.3s ease;
    }

    [data-theme="dark"] .before-after-card {
      background: rgba(74, 155, 181, 0.1);
    }

    .before-after-card h4 {
      color: var(--accent-secondary);
      margin: 0 0 12px 0;
      font-weight: 700;
    }

    .before-after-card ul {
      margin: 0;
      font-size: 0.95rem;
    }

    .before-after-card li {
      padding-left: 30px;
      font-size: 0.95rem;
      color: var(--text-secondary);
    }

    .cta-button {
      display: inline-block;
      background: linear-gradient(135deg, var(--accent-secondary) 0%, var(--accent-dark) 100%);
      color: white;
      padding: 16px 32px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 700;
      font-size: 1.05rem;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(45, 106, 123, 0.2);
      margin-top: 16px;
      display: block;
      text-align: center;
      border: none;
      cursor: pointer;
    }

    .cta-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(45, 106, 123, 0.3);
    }

    .social-buttons {
      display: flex;
      gap: 12px;
      margin: 20px 0;
      flex-wrap: wrap;
    }

    .social-btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: var(--accent-secondary);
      color: white;
      padding: 12px 20px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 600;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      border: none;
      cursor: pointer;
    }

    .social-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(45, 106, 123, 0.3);
    }

    /* Trust badges under header */
    .trust-badges {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      margin-top: 12px;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: linear-gradient(135deg, rgba(45,106,123,0.08), rgba(196,160,214,0.08));
      color: var(--text-secondary);
      padding: 8px 12px;
      border-radius: 20px;
      font-weight: 600;
      border: 1px solid var(--border-color);
    }

    .quick-start-cta {
      margin-top: 14px;
      max-width: 320px;
    }

    /* Back to top button */
    .back-to-top {
      position: fixed;
      right: 16px;
      bottom: 88px;
      z-index: 102;
      background: linear-gradient(135deg, #4a9bb5 0%, var(--accent-secondary) 100%);
      color: white;
      border: 2px solid rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      width: 60px;
      height: 60px;
      font-weight: 700;
      font-size: 24px;
      cursor: pointer;
      display: none;
      align-items: center;
      justify-content: center;
      box-shadow: 0 10px 30px rgba(45, 106, 123, 0.45), inset 0 1px 2px rgba(255, 255, 255, 0.25);
      transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
      animation: floatButton 3.5s ease-in-out infinite;
    }

    .back-to-top:hover {
      transform: scale(1.15) translateY(-4px);
      box-shadow: 0 15px 40px rgba(45, 106, 123, 0.55), inset 0 1px 2px rgba(255, 255, 255, 0.4);
    }

    .back-to-top:active {
      transform: scale(0.95);
    }

    @keyframes floatButton {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-6px); }
    }

    .back-to-top.show { display: flex; }

    /* Sticky mobile footer CTA */
    .mobile-sticky-cta {
      position: fixed;
      left: 0; right: 0; bottom: 0;
      z-index: 101;
      background: linear-gradient(135deg, var(--bg-primary), rgba(248,251,253,0.9));
      border-top: 1px solid var(--border-color);
      box-shadow: 0 -8px 24px rgba(45,106,123,0.08);
      padding: calc(10px + env(safe-area-inset-bottom));
      display: none; /* default hidden on desktop */
    }

    .mobile-sticky-cta .cta-button {
      margin: 0;
    }

    .rating-btn {
      font-size: 1.5rem;
      padding: 12px 16px;
      border: 2px solid var(--border-color);
      background: var(--bg-primary);
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .rating-btn:hover {
      transform: scale(1.15);
      border-color: var(--accent-primary);
    }

    .rating-btn:active {
      transform: scale(0.95);
    }

    .price {
      font-weight: 700;
      color: var(--accent-dark);
      font-size: 1.1rem;
    }

    .discount-badge {
      display: inline-block;
      background: linear-gradient(135deg, var(--accent-secondary) 0%, var(--accent-dark) 100%);
      color: white;
      padding: 8px 12px;
      border-radius: 6px;
      font-size: 0.85rem;
      font-weight: 700;
      margin-left: 8px;
    }

    .email-box {
      margin-top: 32px;
      padding: 32px;
      background: linear-gradient(135deg, rgba(45, 106, 123, 0.08) 0%, rgba(74, 155, 181, 0.08) 100%);
      border-left: 5px solid var(--accent-primary);
      border-radius: 12px;
      box-shadow: 0 4px 8px rgba(45, 106, 123, 0.06);
      border: 1px solid var(--border-color);
      transition: all 0.3s ease;
    }

    [data-theme="dark"] .email-box {
      background: linear-gradient(135deg, rgba(74, 155, 181, 0.1) 0%, rgba(45, 106, 123, 0.08) 100%);
    }

    .email-box p {
      margin-bottom: 14px;
      color: var(--text-secondary);
    }

    .email-box strong a {
      color: var(--accent-secondary);
      text-decoration: none;
      font-weight: 700;
      transition: all 0.3s ease;
      border-bottom: 2px solid transparent;
    }

    .email-box strong a:hover {
      border-bottom-color: var(--accent-primary);
      color: var(--accent-primary);
    }

    .email-box ul {
      margin-top: 16px;
      margin-bottom: 14px;
    }

    .email-box li {
      font-size: 1rem;
      color: var(--text-secondary);
    }

    .founder-bio {
      background: linear-gradient(135deg, rgba(45, 106, 123, 0.08) 0%, rgba(74, 155, 181, 0.1) 100%);
      padding: 28px;
      border-radius: 12px;
      border: 1px solid var(--border-color);
      margin: 20px 0;
      transition: all 0.3s ease;
    }

    [data-theme="dark"] .founder-bio {
      background: linear-gradient(135deg, rgba(74, 155, 181, 0.12) 0%, rgba(45, 106, 123, 0.1) 100%);
    }

    .founder-bio strong {
      color: var(--accent-dark);
    }

    .founder-bio p {
      margin-bottom: 14px;
    }

    .testimonial-card {
      background: rgba(255, 255, 255, 0.6);
      padding: 20px;
      margin-bottom: 16px;
      border-radius: 8px;
      border-left: 4px solid var(--accent-primary);
      transition: all 0.3s ease;
    }

    [data-theme="dark"] .testimonial-card {
      background: rgba(45, 106, 123, 0.1);
    }

    .testimonial-card .quote {
      font-size: 2rem;
      color: var(--accent-primary);
      margin: 0;
      line-height: 1;
    }

    .testimonial-card p {
      margin: 12px 0 8px 0;
      font-style: italic;
      color: var(--text-secondary);
    }

    .testimonial-card .author {
      color: var(--accent-secondary);
      font-weight: 600;
      font-size: 0.95rem;
      margin: 0;
    }

    .referral-box {
      background: linear-gradient(135deg, var(--accent-secondary) 0%, var(--accent-dark) 100%);
      padding: 24px;
      border-radius: 12px;
      border: none;
      margin: 20px 0;
      text-align: center;
      color: white;
    }

    [data-theme="dark"] .referral-box {
      background: linear-gradient(135deg, var(--accent-secondary) 0%, var(--accent-dark) 100%);
    }

    .referral-box strong {
      color: #ffffff;
      font-size: 1.1rem;
    }

    .faq-item {
      background: rgba(255, 255, 255, 0.6);
      padding: 20px;
      margin-bottom: 16px;
      border-radius: 8px;
      border-left: 3px solid var(--accent-primary);
      transition: all 0.3s ease;
    }

    [data-theme="dark"] .faq-item {
      background: rgba(45, 106, 123, 0.08);
    }

    .faq-item:hover {
      box-shadow: 0 4px 12px rgba(45, 106, 123, 0.1);
    }

    .faq-item strong {
      color: var(--accent-dark);
      display: block;
      margin-bottom: 8px;
    }

    .faq-item p {
      margin: 0;
      color: var(--text-secondary);
      font-size: 0.98rem;
    }

    .response-time {
      background: linear-gradient(135deg, rgba(45, 106, 123, 0.1) 0%, rgba(74, 155, 181, 0.08) 100%);
      padding: 16px;
      border-left: 4px solid var(--accent-primary);
      border-radius: 8px;
      margin: 16px 0;
      font-weight: 600;
      color: var(--text-secondary);
      transition: all 0.3s ease;
    }

    [data-theme="dark"] .response-time {
      background: linear-gradient(135deg, rgba(74, 155, 181, 0.1) 0%, rgba(45, 106, 123, 0.08) 100%);
    }

    .crisis-resources {
      background: linear-gradient(135deg, rgba(45, 106, 123, 0.12) 0%, rgba(74, 155, 181, 0.12) 100%);
      padding: 24px;
      border: 2px solid var(--accent-primary);
      border-radius: 12px;
      margin: 16px 0;
      transition: all 0.3s ease;
    }

    [data-theme="dark"] .crisis-resources {
      background: linear-gradient(135deg, rgba(74, 155, 181, 0.15) 0%, rgba(45, 106, 123, 0.12) 100%);
    }

    .crisis-resources h3 {
      margin-top: 0;
    }

    .resource-item {
      margin-bottom: 16px;
      padding-bottom: 16px;
      border-bottom: 1px solid var(--border-color);
    }

    .resource-item:last-child {
      border-bottom: none;
      margin-bottom: 0;
      padding-bottom: 0;
    }

    .resource-item strong {
      display: block;
      color: var(--accent-dark);
      margin-bottom: 4px;
    }

    .resource-item a {
      color: var(--accent-secondary);
      text-decoration: none;
      font-weight: 600;
      transition: all 0.2s ease;
    }

    .resource-item a:hover {
      text-decoration: underline;
      color: var(--accent-primary);
    }

    .disclaimer {
      font-size: 0.95rem;
      color: var(--text-secondary);
      margin-top: 56px;
      padding: 28px;
      border: 2px solid var(--accent-primary);
      border-radius: 8px;
      line-height: 1.9;
      font-weight: 600;
      background: linear-gradient(135deg, rgba(45, 106, 123, 0.1) 0%, rgba(74, 155, 181, 0.08) 100%);
      box-shadow: 0 4px 12px rgba(45, 106, 123, 0.08);
      transition: all 0.3s ease;
    }

    [data-theme="dark"] .disclaimer {
      background: linear-gradient(135deg, rgba(74, 155, 181, 0.15) 0%, rgba(45, 106, 123, 0.12) 100%);
    }

    .disclaimer p {
      margin: 0;
      color: var(--text-secondary);
    }

    .disclaimer strong {
      color: var(--accent-dark);
      font-weight: 700;
    }

    strong {
      font-weight: 700;
      color: var(--accent-dark);
    }

    a {
      color: var(--accent-secondary);
      text-decoration: none;
      transition: color 0.2s ease;
    }

    a:hover {
      color: var(--accent-primary);
      text-decoration: underline;
    }

    .testimonial-card {
      background: linear-gradient(135deg, rgba(45, 106, 123, 0.08) 0%, rgba(74, 155, 181, 0.05) 100%);
      border: 1px solid var(--border-color);
      border-radius: 12px;
      padding: 24px;
      box-shadow: 0 2px 8px rgba(45, 106, 123, 0.08);
      transition: all 0.3s ease;
    }

    .testimonial-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 16px rgba(45, 106, 123, 0.12);
    }

    [data-theme="dark"] .testimonial-card {
      background: linear-gradient(135deg, rgba(74, 155, 181, 0.1) 0%, rgba(45, 106, 123, 0.08) 100%);
    }

    .referral-box {
      background: linear-gradient(135deg, var(--accent-secondary) 0%, var(--accent-dark) 100%);
      color: white;
      padding: 32px 24px;
      border-radius: 12px;
      text-align: center;
      box-shadow: 0 8px 24px rgba(27, 73, 101, 0.25);
      border: none;
    }

    [data-theme="dark"] .referral-box {
      background: linear-gradient(135deg, var(--accent-secondary) 0%, var(--accent-dark) 100%);
    }

    .referral-box p {
      color: white;
    }

    .referral-box ul {
      text-align: left;
      display: inline-block;
      color: rgba(255, 255, 255, 0.95);
    }

    .referral-box ul li {
      color: white;
      margin: 8px 0;
    }

    .social-buttons {
      display: flex;
      gap: 16px;
      justify-content: center;
      flex-wrap: wrap;
      margin: 20px 0;
    }

    .social-btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 12px 24px;
      border-radius: 8px;
      font-weight: 600;
      color: white;
      text-decoration: none;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(45, 106, 123, 0.15);
      font-size: 0.95rem;
    }

    .social-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 16px rgba(45, 106, 123, 0.2);
    }

    /* Mobile app-like feel & performance optimizations */
    html {
      scroll-behavior: smooth;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    body {
      -webkit-tap-highlight-color: transparent;
      overscroll-behavior: none;
    }

    button, a {
      -webkit-user-select: none;
      user-select: none;
    }

    /* Respect motion preferences for accessibility */
    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
      .rainbow-text { animation: none !important; }
      body::before { animation: none !important; }
    }

    @media (max-width: 768px) {
      .container {
        padding: 40px 24px;
        margin-top: 20px;
        margin-bottom: 20px;
        border-radius: 12px;
        margin-left: 0;
        margin-right: 0;
      }

      header {
        margin-bottom: 40px;
        padding-bottom: 24px;
      }

      h1 {
        font-size: 1.95rem;
      }

      h2 {
        font-size: 1.3rem;
        margin-top: 36px;
        margin-bottom: 18px;
      }

      .subheadline {
        font-size: 1.05rem;
      }

      .email-box {
        padding: 24px;
      }

      p {
        font-size: 1rem;
      }

      li {
        font-size: 1rem;
        padding-left: 36px;
      }

      section {
        margin-bottom: 32px;
        padding: 20px;
      }

      .cta-button {
        padding: 14px 28px;
        font-size: 1rem;
      }

      .social-proof {
        gap: 12px;
      }

      .before-after {
        grid-template-columns: 1fr;
      }

      .theme-toggle {
        top: 12px;
        right: 12px;
        padding: 8px 12px;
        font-size: 0.9rem;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
      }

      nav {
        padding: 10px 16px;
        gap: 8px;
        overflow-x: auto;
      }

      nav a {
        white-space: nowrap;
        font-size: 0.85rem;
      }

      /* show sticky CTA on mobile and add bottom space */
      .mobile-sticky-cta { display: block; }
      body { padding-bottom: 80px; }
    }

    @media (max-width: 640px) {
      .container {
        padding: 32px 18px;
        border-radius: 12px;
        margin-left: 0;
        margin-right: 0;
      }

      h1 {
        font-size: 1.75rem;
      }

      h2 {
        font-size: 1.2rem;
      }

      .email-box {
        padding: 20px;
      }

      section {
        padding: 16px;
      }

      nav {
        padding: 10px 16px;
        display: flex;
        gap: 8px;
        overflow-x: auto;
      }

      nav a {
        font-size: 0.8rem;
        margin: 0 4px;
        white-space: nowrap;
      }

      .social-buttons {
        flex-direction: column;
      }

      .social-btn {
        width: 100%;
        justify-content: center;
      }

      .proof-card {
        flex: 1 1 100%;
      }

      [style*="grid-template-columns: 1fr 1fr"] {
        grid-template-columns: 1fr !important;
      }

      .cta-button {
        width: 100%;
      }
    }
  </style>

<body>

  <button class="theme-toggle" id="themeToggle">🌙 Dark</button>

  <nav>
    <a href="#about">About</a>
    <a href="#what-to-expect">What to Expect</a>
    <a href="#social-proof">Social Proof</a>
    <a href="#pricing">Pricing</a>
    <a href="#testimonials">Stories</a>
    <a href="#faq">FAQ</a>
    <a href="#book">Book</a>
  </nav>

  <div class="container">

    <header id="about">
      <h1>You don't have to carry it all alone.</h1>
      <p class="subheadline">
        Real peer listening for young adults — confidential, judgment-free, in your language.
      </p>
      <div class="availability-badge">✓ Spots available now</div>
      <div class="trust-badges">
        <span class="badge">🔒 100% confidential</span>
        <span class="badge">⏱️ 24-hour response guarantee</span>
      </div>
      <a href="#book" class="cta-button quick-start-cta">🚀 Quick Start — Book Now</a>
    </header>

    <section id="social-proof">
      <h2>✨ Real results, real people</h2>
      <div class="social-proof">
        <div class="proof-card">
          <div class="number" id="sessions-count">27</div>
          <div class="label">Sessions Completed</div>
        </div>
        <div class="proof-card">
          <div class="number" id="rating-display">4.8</div>
          <div class="label">Average Rating</div>
        </div>
      </div>
      <p style="text-align: center; color: var(--text-muted); margin: 0;">People from 8+ countries have booked sessions. They keep coming back.</p>
    </section>

    <section>
      <h2>👋 Who I Am</h2>
      <div class="founder-bio">
        <p>
          <strong>Hey, I'm Usama.</strong>
        </p>
        <p>
          Software engineering student, originally from Pakistan, lived in Saudi Arabia for 8 years, now in Hong Kong. I've been through the heavy stuff — family challenges, early responsibility, that feeling of carrying things alone. I know how isolating that can be, especially when you don't have someone who actually listens.
        </p>
        <p>
          <strong>Why I started this:</strong> A few years ago, I was spiraling. Family expectations, cultural pressure, trying to figure out who I was between three countries. I didn't need therapy—I needed someone to just... hear me. Without the "have you tried yoga?" energy. When I finally found that, it changed everything.
        </p>
        <p>
          So I started doing this for others. Over 27 sessions now, I've learned that most people don't need answers—they need space to think out loud with someone who won't judge them for being human.
        </p>
        <p>
          People tell me I'm a good listener. Not in that "therapist" way, but like... actually present. I remember details. I catch what you're not saying. And I understand the weight of navigating multiple cultures while trying to figure out your own path.
        </p>
        <p>
          <strong>This isn't therapy.</strong> I'm not a counselor. I'm just someone who listens with patience and respect, and sometimes that's exactly what you need.
        </p>
      </div>
    </section>

    <hr class="divider">

    <section id="languages">
      <h2>🌍 Speak Your Language, Literally</h2>
      <p style="text-align: center; color: var(--text-muted); margin-bottom: 24px;">Five languages, one safe space</p>
      
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin-bottom: 24px;">
        <div style="background: rgba(45, 106, 123, 0.08); padding: 16px; border-radius: 8px; text-align: center;">
          <div style="font-size: 1.8rem; margin-bottom: 8px;">🇬🇧</div>
          <strong>English</strong>
        </div>
        <div style="background: rgba(45, 106, 123, 0.08); padding: 16px; border-radius: 8px; text-align: center;">
          <div style="font-size: 1.8rem; margin-bottom: 8px;">🇸🇦</div>
          <strong>Arabic</strong>
        </div>
        <div style="background: rgba(45, 106, 123, 0.08); padding: 16px; border-radius: 8px; text-align: center;">
          <div style="font-size: 1.8rem; margin-bottom: 8px;">🇵🇰</div>
          <strong>Urdu</strong>
        </div>
        <div style="background: rgba(45, 106, 123, 0.08); padding: 16px; border-radius: 8px; text-align: center;">
          <div style="font-size: 1.8rem; margin-bottom: 8px;">🇮🇳</div>
          <strong>Hindi</strong>
        </div>
        <div style="background: rgba(45, 106, 123, 0.08); padding: 16px; border-radius: 8px; text-align: center;">
          <div style="font-size: 1.8rem; margin-bottom: 8px;">🇵🇰</div>
          <strong>Punjabi</strong>
        </div>
      </div>

      <div style="background: linear-gradient(135deg, rgba(45, 106, 123, 0.08), rgba(74, 155, 181, 0.05)); padding: 24px; border-radius: 12px; border-left: 4px solid var(--accent-secondary);">
        <p><strong>I get the cultural stuff:</strong></p>
        <ul style="margin: 12px 0;">
          <li>Third-culture kid dynamics and identity confusion</li>
          <li>Balancing family expectations with personal goals</li>
          <li>Navigating faith, tradition, and modern life</li>
          <li>The pressure of being the "successful" child</li>
          <li>Feeling between worlds—not fully here or there</li>
          <li>South Asian and Arab family dynamics (yes, including the guilt trips)</li>
        </ul>
        <p style="margin-top: 16px; font-style: italic; color: var(--text-muted);">You won't have to explain why Eid feels lonely abroad, or why "just talk to your parents" isn't that simple.</p>
      </div>
    </section>

    <hr class="divider">

    <section id="what-to-expect">
      <h2>💙 Who this is for</h2>
      <p>
        You, if you're feeling isolated, stressed, overwhelmed, or just... a lot. If your thoughts are a mess. If you need to talk to someone who actually listens instead of fixing or judging.
      </p>
    </section>

    <section>
      <h2>👂 What actually happens</h2>
      <p>Each session is 45 minutes, and it goes like this:</p>
      <ul>
        <li>Quick check-in about boundaries (keeping it safe)</li>
        <li>You talk, I listen (actually listen, not just wait for my turn)</li>
        <li>We figure things out together through conversation</li>
        <li>You leave feeling a bit calmer and clearer</li>
      </ul>
    </section>

    <section>
      <h2>🎯 What you'll probably notice after a session</h2>
      <div class="before-after">
        <div class="before-after-card">
          <h4>Before the session</h4>
          <ul>
            <li>Thoughts are scattered & overwhelming</li>
            <li>Carrying it alone feels heavy</li>
            <li>Can't see things clearly</li>
            <li>Feel isolated & unseen</li>
            <li>Don't know what to do</li>
          </ul>
        </div>
        <div class="before-after-card">
          <h4>After the session</h4>
          <ul>
            <li>Thoughts are organized</li>
            <li>You feel heard & understood</li>
            <li>Perspective becomes clearer</li>
            <li>Feel less alone in this</li>
            <li>Know your next steps</li>
          </ul>
        </div>
      </div>
      <p style="text-align: center; color: var(--text-muted); font-size: 0.95rem; margin-top: 16px;">
        <em>Not therapy magic — just real listening that creates space for clarity.</em>
      </p>
    </section>

    <section>
      <h2>🌍 Languages we speak</h2>
      <ul>
        <li>English</li>
        <li>Arabic</li>
        <li>Urdu</li>
        <li>Hindi</li>
        <li>Punjabi</li>
      </ul>
    </section>

    <section>
      <h2>⚠️ What this isn't</h2>
      <p>
        <strong>Not therapy. Not counseling. Not crisis support.</strong> If you're in immediate danger or having thoughts of self-harm, call emergency services or a mental health professional. I can't provide that level of care, and you deserve actual professional help.
      </p>
    </section>

    <hr class="divider">

    <section id="pricing">
      <h2>💰 Price & Availability</h2>
      
      <h3 style="margin-top: 0;">First session special:</h3>
      <p class="price">Online: HKD 150 <span class="discount-badge">First time only</span></p>
      <p class="price">In-person (HK only): HKD 250 <span class="discount-badge">First time only</span></p>
      
      <hr class="divider" style="margin: 20px 0;">
      
      <h3>Regular pricing:</h3>
      <p class="price">Online: HKD 180 (45 min)</p>
      <p class="price">In-person (HK only): HKD 280 (45 min)</p>
      <p style="color: var(--text-muted); font-size: 0.95rem;">Limited to 1–4 sessions per week.</p>

      <div class="availability-badge">🕐 Accepting up to 4 sessions/week right now</div>
      <p style="font-size: 0.95rem; color: var(--text-muted); margin-top: 12px;">
        <em>This changes as demand grows, so check back if you don't see spots.</em>
      </p>
    </section>

    <section>
      <h2>📋 Cancellation & Rescheduling</h2>
      <ul>
        <li><strong>24 hours' notice:</strong> Tell me at least a day ahead if you need to reschedule</li>
        <li><strong>One free reschedule:</strong> Cancel with notice? You get one reschedule for free</li>
        <li><strong>Late cancel = used session:</strong> Less than 24 hours? Session is marked as used</li>
        <li><strong>No-show = no refund:</strong> Don't show up without notice? You've used that session</li>
      </ul>
      <p style="font-size: 0.95rem; color: #465973; margin-top: 12px;">
        <em>This isn't harsh — it's respect for both our time.</em>
      </p>
    </section>

    <section>
      <h2>📧 How I'll respond</h2>
      <div class="response-time">
        ⏱️ You email, I respond within 24 hours — no exceptions
      </div>
      <p><strong>Email only, no messaging apps.</strong> It's not a cold thing — email just works better for keeping track of bookings and keeping things confidential.</p>
    </section>

    <hr class="divider">

    <section id="testimonials">
      <h2>✨ What People Are Saying</h2>
      <p style="text-align: center; color: var(--text-muted); margin-bottom: 30px;">Real feedback from people who've been through sessions</p>
      
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px;">
        <div class="testimonial-card">
          <div style="color: var(--accent-primary); margin-bottom: 12px;">★★★★★</div>
          <p><em>"I was so scattered after my move to Hong Kong. Having someone actually listen without judgment helped me see what was really important."</em></p>
          <p style="font-weight: 600; margin-top: 15px; color: var(--text-primary);">— Alex, 26 (Online Session)</p>
          <p style="font-size: 0.85rem; color: var(--text-muted);">3 sessions • Relocation stress</p>
        </div>
        
        <div class="testimonial-card">
          <div style="color: var(--accent-primary); margin-bottom: 12px;">★★★★★</div>
          <p><em>"I didn't expect to feel so heard. Usama gets what it's like being between cultures. Actually helped me with family stuff."</em></p>
          <p style="font-weight: 600; margin-top: 15px; color: var(--text-primary);">— Rana, 28 (In-person Session)</p>
          <p style="font-size: 0.85rem; color: var(--text-muted);">2 sessions • Family dynamics</p>
        </div>
        
        <div class="testimonial-card">
          <div style="color: var(--accent-primary); margin-bottom: 12px;">★★★★★</div>
          <p><em>"Not therapy vibes—more like talking to a friend who actually understands. Left feeling way lighter and with actual clarity."</em></p>
          <p style="font-weight: 600; margin-top: 15px; color: var(--text-primary);">— Jordan, 24 (Online Session)</p>
          <p style="font-size: 0.85rem; color: var(--text-muted);">1 session • Overwhelm & burnout</p>
        </div>
      </div>
    </section>

    <hr class="divider">

    <section id="rate-session">
      <h2>⭐ Rate Your Session</h2>
      <p style="text-align: center; color: var(--text-muted); margin-bottom: 24px;">Had a session? Your feedback helps me improve and helps others decide if this is right for them.</p>
      
      <div style="max-width: 500px; margin: 0 auto;">
        <form id="rating-form" style="background: linear-gradient(135deg, rgba(45, 106, 123, 0.08) 0%, rgba(74, 155, 181, 0.05) 100%); padding: 24px; border-radius: 12px; border: 1px solid var(--border-color);">
          
          <div style="margin-bottom: 20px;">
            <label for="name" style="display: block; font-weight: 600; margin-bottom: 8px;">Your name (optional)</label>
            <input type="text" id="name" placeholder="e.g., Alex" style="width: 100%; padding: 10px; border: 1px solid var(--border-color); border-radius: 6px; font-size: 1rem; background: var(--bg-primary); color: var(--text-primary);">
          </div>

          <div style="margin-bottom: 20px;">
            <label style="display: block; font-weight: 600; margin-bottom: 12px;">How would you rate your session? ⭐</label>
            <div style="display: flex; gap: 12px; justify-content: center;">
              <button type="button" class="rating-btn" data-rating="1" style="font-size: 1.5rem; padding: 12px 16px; border: 2px solid var(--border-color); background: var(--bg-primary); border-radius: 6px; cursor: pointer; transition: all 0.2s ease;">1️⃣</button>
              <button type="button" class="rating-btn" data-rating="2" style="font-size: 1.5rem; padding: 12px 16px; border: 2px solid var(--border-color); background: var(--bg-primary); border-radius: 6px; cursor: pointer; transition: all 0.2s ease;">2️⃣</button>
              <button type="button" class="rating-btn" data-rating="3" style="font-size: 1.5rem; padding: 12px 16px; border: 2px solid var(--border-color); background: var(--bg-primary); border-radius: 6px; cursor: pointer; transition: all 0.2s ease;">3️⃣</button>
              <button type="button" class="rating-btn" data-rating="4" style="font-size: 1.5rem; padding: 12px 16px; border: 2px solid var(--border-color); background: var(--bg-primary); border-radius: 6px; cursor: pointer; transition: all 0.2s ease;">4️⃣</button>
              <button type="button" class="rating-btn" data-rating="5" style="font-size: 1.5rem; padding: 12px 16px; border: 2px solid var(--border-color); background: var(--bg-primary); border-radius: 6px; cursor: pointer; transition: all 0.2s ease;">5️⃣</button>
            </div>
            <input type="hidden" id="selected-rating" value="">
          </div>

          <div style="margin-bottom: 20px;">
            <label for="feedback" style="display: block; font-weight: 600; margin-bottom: 8px;">What resonated with you? (optional)</label>
            <textarea id="feedback" placeholder="What helped the most? What could be better?" style="width: 100%; padding: 10px; border: 1px solid var(--border-color); border-radius: 6px; font-size: 1rem; background: var(--bg-primary); color: var(--text-primary); min-height: 80px; font-family: inherit; resize: vertical;"></textarea>
          </div>

          <button type="submit" class="cta-button" style="width: 100%; margin-top: 16px;">
            Submit Rating ⭐
          </button>
          
          <p id="rating-message" style="text-align: center; color: var(--text-muted); font-size: 0.9rem; margin-top: 12px; display: none;"></p>
        </form>
      </div>
    </section>

    <hr class="divider">

    <section id="faq">
      <h2>❓ Questions you might have</h2>

      <div class="faq-item">
        <strong>Will you tell anyone what I said?</strong>
        <p>
          Nope. Everything stays between us — unless you tell me someone's in danger, the law says I have to, or you mention abuse of a kid. Otherwise it's locked.
        </p>
      </div>

      <div class="faq-item">
        <strong>Can you just tell me what to do?</strong>
        <p>
          Not really my thing. I'm not here to fix your problems or give you answers. But talking it through with someone who actually listens? That usually helps you figure it out yourself.
        </p>
      </div>

      <div class="faq-item">
        <strong>What language will we use?</strong>
        <p>
          Whatever works for you — English, Arabic, Urdu, Hindi, or Punjabi. Just let me know when you book.
        </p>
      </div>

      <div class="faq-item">
        <strong>What if I'm actually in crisis?</strong>
        <p>
          This isn't the right fit for that. I'll be straight up about it and point you to actual crisis services. You deserve proper help, not peer listening.
        </p>
      </div>

      <div class="faq-item">
        <strong>Do I need to "prepare" anything?</strong>
        <p>
          Nah. Just show up with whatever's on your mind. Find somewhere quiet. That's it.
        </p>
      </div>

      <div class="faq-item">
        <strong>What if I get emotional or cry?</strong>
        <p>
          That's completely fine—expected, even. This is a safe space for real emotions. I've seen it all. You won't make things awkward. Let it out if you need to.
        </p>
      </div>

      <div class="faq-item">
        <strong>Can I book a session as a gift for a friend?</strong>
        <p>
          Yes! Just email me with their name and a way to reach them. I'll contact them directly to schedule. Make sure they're okay with it first though—surprises aren't always great with this kind of thing.
        </p>
      </div>

      <div class="faq-item">
        <strong>Do you take notes during sessions?</strong>
        <p>
          Only minimal ones—key points to help me remember context if we have another session. I don't record anything. Notes are encrypted and deleted after 3 months. Your privacy matters.
        </p>
      </div>

      <div class="faq-item">
        <strong>What if I ghost you?</strong>
        <p>
          If you don't show up and don't tell me, that session's marked as used. No second chances on that one. But if you're running late or something comes up, just send a message — I get it.
        </p>
      </div>

      <div class="faq-item">
        <strong>Online or in-person?</strong>
        <p>
          Both are available. Online is HKD 180, in-person (Hong Kong only) is HKD 280. You pick what works for you.
        </p>
      </div>

    </section>

    <hr class="divider">

    <section>
      <h2>🔒 What's actually confidential (and what isn't)</h2>
      <p>
        Everything you tell me stays between us, except if:
      </p>
      <ul>
        <li>You or someone else is in real, immediate danger</li>
        <li>The law forces me to (courts, serious legal stuff)</li>
        <li>You tell me about abuse of a kid or ongoing serious harm</li>
      </ul>
      <p>
        If any of that comes up, I'll tell you before I do anything. You deserve a heads up.
      </p>
    </section>

    <section>
      <h2>🆘 If you're in crisis right now</h2>
      <p>
        <strong>This service isn't for crisis.</strong> If you're in danger or having serious thoughts of hurting yourself, you need professional help, not peer listening. Please reach out to these people:
      </p>

      <div class="crisis-resources">
        <h3>In Hong Kong</h3>

        <div class="resource-item">
          <strong>The Samaritans Hong Kong</strong>
          <p>24/7 — someone's always available</p>
          <p><strong>☎️ +852 2896 0000</strong></p>
          <p><a href="https://samaritans.org.hk" target="_blank" rel="noopener noreferrer">samaritans.org.hk</a></p>
        </div>

        <div class="resource-item">
          <strong>Emergency — life or death right now?</strong>
          <p><strong>☎️ Call 999</strong></p>
        </div>

        <div class="resource-item">
          <strong>Hong Kong Suicide Prevention Services</strong>
          <p>24/7 support and resources</p>
        </div>

        <h3 style="margin-top: 24px;">Outside Hong Kong</h3>

        <div class="resource-item">
          <p>
            <strong>Call your country's emergency number:</strong> 911 (US), 112 (EU), 999 (UK), 000 (Australia), etc.
          </p>
        </div>

        <p style="font-size: 0.9rem; color: #465973; margin-top: 16px; font-style: italic;">
          These are real services run by real people who know how to help. Use them — they exist for this.
        </p>
      </div>
    </section>

    <hr class="divider">

    <section id="book">
      <h2>📧 Ready to book?</h2>
      <p style="text-align: center; color: var(--text-muted); margin-bottom: 24px;">Choose your booking method below</p>

      <!-- Start Small Option -->
      <div style="background: linear-gradient(135deg, rgba(45, 106, 123, 0.08), rgba(74, 155, 181, 0.05)); padding: 20px; border-radius: 12px; border: 2px dashed var(--accent-secondary); margin-bottom: 24px; text-align: center;">
        <p style="font-size: 1.05rem; font-weight: 600; margin: 0 0 8px 0; color: var(--accent-dark);">Not sure yet? Start small 🌱</p>
        <p style="margin: 0 0 12px 0; font-size: 0.95rem; color: var(--text-secondary);">Get a <strong>free 15-minute intro call</strong> to see if we vibe. Zero pressure, zero commitment.</p>
        <button onclick="document.getElementById('freeCallModal').classList.add('show'); document.getElementById('freeCallOverlay').classList.add('show');" class="cta-button" style="display: inline-block; margin-top: 8px; font-size: 0.95rem; padding: 12px 24px; background: linear-gradient(135deg, var(--accent-secondary), var(--accent-dark)); border: none; cursor: pointer;">
          🎧 Book Free Intro Call
        </button>
      </div>

      <!-- Availability Preview -->
      <div style="background: var(--bg-secondary); padding: 16px; border-radius: 8px; margin-bottom: 20px; border-left: 3px solid var(--accent-secondary);">
        <p style="margin: 0; font-size: 0.95rem; color: var(--text-secondary);"><strong>📅 Current Availability:</strong></p>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 8px; margin-top: 12px;">
          <div style="text-align: center; padding: 8px; background: rgba(45, 106, 123, 0.1); border-radius: 6px;">
            <div style="font-size: 1.2rem;">🟢</div>
            <div style="font-size: 0.85rem; font-weight: 600;">Mon-Wed</div>
            <div style="font-size: 0.75rem; color: var(--text-muted);">Slots open</div>
          </div>
          <div style="text-align: center; padding: 8px; background: rgba(255, 193, 7, 0.1); border-radius: 6px;">
            <div style="font-size: 1.2rem;">🟡</div>
            <div style="font-size: 0.85rem; font-weight: 600;">Thu</div>
            <div style="font-size: 0.75rem; color: var(--text-muted);">Filling up</div>
          </div>
          <div style="text-align: center; padding: 8px; background: rgba(244, 67, 54, 0.1); border-radius: 6px;">
            <div style="font-size: 1.2rem;">🔴</div>
            <div style="font-size: 0.85rem; font-weight: 600;">Fri-Sun</div>
            <div style="font-size: 0.75rem; color: var(--text-muted);">Full</div>
          </div>
        </div>
        <p style="margin: 12px 0 0 0; font-size: 0.8rem; font-style: italic; color: var(--text-muted); text-align: center;">Updates weekly — check back if you don't see your preferred time</p>
      </div>

      <!-- Primary Booking CTA -->
      <a href="https://calendly.com" target="_blank" rel="noopener noreferrer" class="cta-button" style="display: block; font-size: 1.1rem; padding: 18px 32px; margin-bottom: 16px; text-align: center;">
        📅 Book Your Session Now (Calendly)
      </a>

      <!-- Backup Email Option -->
      <div class="email-box" style="margin-top: 20px;">
        <p style="text-align: center; font-weight: 600; margin-bottom: 12px;">Prefer email? No problem.</p>
        <p>
          Email me at:
          <strong>
            <a href="mailto:mirzausamaikram@gmail.com">
              mirzausamaikram@gmail.com
            </a>
          </strong>
        </p>
        <p><strong>Include:</strong></p>
        <ul>
          <li>Your name</li>
          <li>Language preference (EN, AR, UR, HI, PJ)</li>
          <li>Online or in-person</li>
          <li>When you're free</li>
        </ul>
        <p><strong>I'll reply within 24 hours</strong> with available times.</p>
        <a href="mailto:mirzausamaikram@gmail.com?subject=Peer%20Listening%20Session%20Request&body=Hi%20Usama%2C%0A%0AI'd%20like%20to%20book%20a%20session.%0A%0AName%3A%0ALanguage%3A%20%0AOnline%20or%20In-person%3A%0AWhen%20I'm%20free%3A%0A%0AThanks%21" class="cta-button" style="margin-top: 12px;">
          📧 Email Me to Book
        </a>
      </div>

      <!-- What Happens Next Timeline -->
      <div style="margin-top: 32px; padding: 24px; background: linear-gradient(135deg, rgba(45, 106, 123, 0.06), rgba(74, 155, 181, 0.04)); border-radius: 12px; border: 1px solid var(--border-color);">
        <h3 style="text-align: center; margin-top: 0; color: var(--accent-dark);">🗺️ What Happens Next?</h3>
        <div style="display: grid; gap: 16px; max-width: 600px; margin: 0 auto;">
          <div style="display: flex; gap: 12px; align-items: start;">
            <div style="font-size: 1.5rem; flex-shrink: 0;">✅</div>
            <div>
              <strong>Step 1: You Book</strong>
              <p style="margin: 4px 0 0 0; font-size: 0.95rem; color: var(--text-secondary);">Choose a time via Calendly or email me your availability</p>
            </div>
          </div>
          <div style="display: flex; gap: 12px; align-items: start;">
            <div style="font-size: 1.5rem; flex-shrink: 0;">📬</div>
            <div>
              <strong>Step 2: I Confirm (within 24h)</strong>
              <p style="margin: 4px 0 0 0; font-size: 0.95rem; color: var(--text-secondary);">You'll get a confirmation with the Zoom link (or meeting spot if in-person)</p>
            </div>
          </div>
          <div style="display: flex; gap: 12px; align-items: start;">
            <div style="font-size: 1.5rem; flex-shrink: 0;">💬</div>
            <div>
              <strong>Step 3: Session Happens</strong>
              <p style="margin: 4px 0 0 0; font-size: 0.95rem; color: var(--text-secondary);">45 minutes, just you and me. Come as you are.</p>
            </div>
          </div>
          <div style="display: flex; gap: 12px; align-items: start;">
            <div style="font-size: 1.5rem; flex-shrink: 0;">⭐</div>
            <div>
              <strong>Step 4: Optional Feedback</strong>
              <p style="margin: 4px 0 0 0; font-size: 0.95rem; color: var(--text-secondary);">Rate your experience—helps me improve and helps others decide</p>
            </div>
          </div>
        </div>
        <p style="text-align: center; margin: 20px 0 0 0; font-size: 0.9rem; font-style: italic; color: var(--text-muted);">That's it. Simple, human, no corporate BS.</p>
      </div>

      <p style="font-size: 0.9rem; color: var(--text-muted); text-align: center; margin-top: 16px;"><em>📌 Replace Calendly link with your actual calendar</em></p>
    </section>

    <hr class="divider">

    <section id="feedback">
      <h2>📝 Had a Session? We'd Love Feedback</h2>
      <p style="color: var(--text-muted); margin-bottom: 24px;">It takes 2 minutes and helps me get better. Plus it's anonymous if you want.</p>
      
      <a href="https://forms.gle/feedback" target="_blank" rel="noopener noreferrer" class="cta-button" style="background: linear-gradient(135deg, #2d6a7b, #1b4965); display: inline-flex; align-items: center; gap: 8px;">
        📋 Share Your Feedback
      </a>
      
      <p style="font-size: 0.9rem; color: var(--text-muted); margin-top: 16px;">
        <em>This is a quick form—just your honest thoughts on how the session went.</em>
      </p>
    </section>

    <hr class="divider">

    <section id="referral">
      <h2>👥 Refer a Friend & Get Rewarded</h2>
      <div class="referral-box">
        <p style="font-size: 1.1rem; margin-top: 0;">Know someone who could use this? Hook them up.</p>
        <p style="font-weight: 600; font-size: 1.15rem; margin: 16px 0;">
          You both get <span class="rainbow-text">HKD 50 off</span> your next session
        </p>
        <p style="font-size: 0.95rem;">
          <span class="rainbow-text">Just mention their email when they book, or forward them this link. Boom. Done.</span>
        </p>
        <ul style="color: var(--text-secondary); margin: 16px 0;">
          <li>No cap on referrals—refer as many people as you want</li>
          <li>Discount applies to your next 1-4 sessions</li>
          <li>They get HKD 50 off their first session too</li>
        </ul>
      </div>
    </section>

    <hr class="divider">

    <section id="connect">
      <h2>🌐 Connect</h2>
      <p style="text-align: center; color: var(--text-muted); margin-bottom: 20px;">Follow for updates, tips, and real talk</p>
      
      <div class="social-buttons">
        <a href="https://instagram.com" target="_blank" rel="noopener noreferrer" class="social-btn" style="background: linear-gradient(135deg, #405de6, #5b51d8);" title="Instagram">
          📷 Instagram
        </a>
        <a href="https://tiktok.com" target="_blank" rel="noopener noreferrer" class="social-btn" style="background: linear-gradient(135deg, #000000, #121212);" title="TikTok">
          🎵 TikTok
        </a>
        <a href="https://wa.me/" target="_blank" rel="noopener noreferrer" class="social-btn" style="background: linear-gradient(135deg, #25d366, #20ba61);" title="WhatsApp">
          💬 WhatsApp
        </a>
      </div>
      
      <p style="font-size: 0.9rem; color: var(--text-muted); text-align: center; margin-top: 20px;">
        <em>📌 Note: Replace Instagram, TikTok, and WhatsApp links with your actual handles</em>
      </p>
    </section>

    <div class="disclaimer">
      <p>
        <strong>📋 Real quick:</strong> This is peer listening, not therapy. I'm not a therapist or counselor. If you're in crisis, get actual help. Otherwise, let's talk.
      </p>
    </div>

    <hr class="divider">

    <!-- Privacy Policy Section -->
    <section id="privacy">
      <h2>🔐 Privacy Policy</h2>
      <p style="font-size: 0.95rem; color: var(--text-secondary); margin-bottom: 20px;">Simple version: Your privacy is non-negotiable. Here's exactly what I collect and why.</p>
      
      <div style="background: linear-gradient(135deg, rgba(45, 106, 123, 0.06), rgba(74, 155, 181, 0.04)); padding: 24px; border-radius: 12px; border-left: 4px solid var(--accent-secondary); margin-bottom: 16px;">
        <h3 style="margin-top: 0; color: var(--accent-dark);">What I Collect</h3>
        <ul style="margin: 12px 0;">
          <li><strong>Email & Name:</strong> To communicate and schedule sessions</li>
          <li><strong>Session Notes:</strong> Minimal context notes (encrypted, never detailed transcripts)</li>
          <li><strong>Ratings & Feedback:</strong> Anonymous unless you choose to share your name</li>
          <li><strong>Payment Info:</strong> Handled securely via payment processor (I never see card details)</li>
        </ul>
      </div>

      <div style="background: linear-gradient(135deg, rgba(45, 106, 123, 0.06), rgba(74, 155, 181, 0.04)); padding: 24px; border-radius: 12px; border-left: 4px solid var(--accent-secondary); margin-bottom: 16px;">
        <h3 style="margin-top: 0; color: var(--accent-dark);">How I Store It</h3>
        <ul style="margin: 12px 0;">
          <li>Session notes are <strong>encrypted</strong> and deleted after 3 months</li>
          <li>Email communication stays in my inbox (secured with 2FA)</li>
          <li>No cloud storage of sensitive content—local only</li>
          <li>Zero third-party access (no selling, no sharing, no BS)</li>
        </ul>
      </div>

      <div style="background: linear-gradient(135deg, rgba(45, 106, 123, 0.06), rgba(74, 155, 181, 0.04)); padding: 24px; border-radius: 12px; border-left: 4px solid var(--accent-secondary); margin-bottom: 16px;">
        <h3 style="margin-top: 0; color: var(--accent-dark);">Your Rights</h3>
        <ul style="margin: 12px 0;">
          <li><strong>Access:</strong> Request a copy of your data anytime</li>
          <li><strong>Delete:</strong> Ask me to delete everything (done within 48 hours)</li>
          <li><strong>Correct:</strong> Update your info if something's wrong</li>
          <li><strong>Opt-Out:</strong> Unsubscribe from future emails (if you're on the list)</li>
        </ul>
      </div>

      <div style="background: linear-gradient(135deg, rgba(45, 106, 123, 0.06), rgba(74, 155, 181, 0.04)); padding: 24px; border-radius: 12px; border-left: 4px solid var(--accent-secondary);">
        <h3 style="margin-top: 0; color: var(--accent-dark);">Cookies & Tracking</h3>
        <p style="margin: 0;"><strong>This site uses zero tracking.</strong> No Google Analytics, no Facebook Pixel, no creepy retargeting. The only "storage" is localStorage for your session count and ratings—purely local, never sent anywhere.</p>
      </div>

      <p style="margin-top: 20px; font-size: 0.95rem; color: var(--text-muted);">
        <strong>Questions or want to delete your data?</strong> Email me at <a href="mailto:mirzausamaikram@gmail.com">mirzausamaikram@gmail.com</a> with "Privacy Request" in the subject.
      </p>
      <p style="font-size: 0.85rem; color: var(--text-muted); font-style: italic;">Last updated: January 2026</p>
    </section>

    <!-- Free Intro Call Modal -->
    <div id="freeCallOverlay" class="free-call-overlay"></div>
    <div id="freeCallModal" class="free-call-modal">
      <button id="freeCallClose" class="free-call-close">✕</button>
      
      <div class="free-call-content">
        <div style="font-size: 2.5rem; text-align: center; margin-bottom: 12px;">🎧</div>
        <h2 style="text-align: center; margin: 0 0 8px 0; color: var(--accent-dark);">Book Your Free 15-Min Call</h2>
        <p style="text-align: center; color: var(--text-secondary); margin: 0 0 20px 0;">
          Let's chat and see if this is right for you. No strings attached.
        </p>
        
        <form id="freeCallForm" class="free-call-form">
          <input 
            type="text" 
            id="callName" 
            placeholder="Your name" 
            required
            class="form-input-free"
          />
          <input 
            type="email" 
            id="callEmail" 
            placeholder="Your email" 
            required
            class="form-input-free"
          />
          <select 
            id="callLanguage" 
            class="form-input-free"
            required
          >
            <option value="">Select your language</option>
            <option value="en">English 🇬🇧</option>
            <option value="ur">Urdu 🇵🇰</option>
            <option value="ar">Arabic 🇸🇦</option>
            <option value="hi">Hindi 🇮🇳</option>
            <option value="pa">Punjabi 🇵🇰</option>
          </select>
          <input 
            type="text" 
            id="callAvailability" 
            placeholder="When are you usually free? (e.g., evenings, weekends)" 
            class="form-input-free"
          />
          <button type="submit" class="free-call-submit">Confirm Free Call Request</button>
        </form>
        
        <p style="font-size: 0.8rem; color: var(--text-muted); text-align: center; margin-top: 12px;">
          A confirmation email will be sent to you with next steps.
        </p>
      </div>
    </div>

    <!-- Admin Dashboard (Hidden) -->
    <div id="adminPanel" class="admin-panel">
      <div class="admin-header">
        <h3>📊 Admin Dashboard</h3>
        <button id="adminClose" class="admin-close">✕</button>
      </div>
      
      <div class="admin-tabs">
        <button class="admin-tab active" data-tab="messages">💌 Messages</button>
        <button class="admin-tab" data-tab="calls">🎧 Free Calls</button>
        <button class="admin-tab" data-tab="export">📥 Export Data</button>
      </div>

      <div id="messagesTab" class="admin-tab-content active">
        <div id="messagesList" class="messages-list">
          <p style="text-align: center; color: var(--text-muted);">No messages yet</p>
        </div>
      </div>

      <div id="callsTab" class="admin-tab-content">
        <div id="callsList" class="messages-list">
          <p style="text-align: center; color: var(--text-muted);">No free intro call bookings yet</p>
        </div>
      </div>

      <div id="exportTab" class="admin-tab-content">
        <button id="exportJSON" class="admin-btn">📥 Download as JSON</button>
        <button id="exportCSV" class="admin-btn">📊 Download as CSV</button>
        <button id="clearData" class="admin-btn admin-danger">🗑️ Clear All Data</button>
      </div>
    </div>

  </div>

  <!-- Free Intro Call Booking Modal -->
  <div id="freeCallOverlay" class="modal-overlay"></div>
  <div id="freeCallModal" class="modal-popup">
    <div class="modal-header">
      <h3 style="margin: 0;">🎧 Book Your Free 15-Min Intro Call</h3>
      <button id="freeCallClose" class="modal-close">✕</button>
    </div>

    <div class="modal-body">
      <p style="color: var(--text-secondary); margin-bottom: 20px;">Let's chat about what you need. Zero commitment, just a conversation.</p>

      <form id="freeCallForm" class="booking-form">
        <input 
          type="text" 
          id="callName" 
          class="form-input" 
          placeholder="Your name" 
          required
        />
        <input 
          type="email" 
          id="callEmail" 
          class="form-input" 
          placeholder="Your email" 
          required
        />
        <select id="callLanguage" class="form-input" required>
          <option value="">Select your language</option>
          <option value="English">🇬🇧 English</option>
          <option value="Arabic">🇸🇦 Arabic</option>
          <option value="Urdu">🇵🇰 Urdu</option>
          <option value="Hindi">🇮🇳 Hindi</option>
          <option value="Punjabi">🇵🇰 Punjabi</option>
        </select>
        <input 
          type="text" 
          id="callAvailability" 
          class="form-input" 
          placeholder="When are you free? (e.g., Mon-Wed evenings)" 
          required
        />
        <textarea 
          id="callMessage" 
          class="form-textarea" 
          placeholder="What's on your mind? (optional)" 
          rows="3"
        ></textarea>
        <button type="submit" class="modal-cta">Book My Free Call</button>
      </form>
    </div>
  </div>

  <!-- Sticky mobile footer CTA -->
  <div class="mobile-sticky-cta">
    <a href="#book" class="cta-button">📅 Book Now</a>
  </div>

  <!-- Chat Widget -->
  <div id="chatBubble" class="chat-bubble" title="💬 Chat with me">
    💬
  </div>

  <div id="chatWidget" class="chat-widget">
    <div class="chat-header">
      <div class="chat-title">Peer Listener Support</div>
      <button id="closeChat" class="chat-close">✕</button>
    </div>

    <div class="chat-tabs">
      <button id="aiTab" class="chat-tab active">🤖 AI Assistant</button>
      <button id="messageTab" class="chat-tab">💌 Message Me</button>
    </div>

    <!-- AI Chat Tab -->
    <div id="chatContent" class="chat-content">
      <div id="messagesContainer" class="messages-container">
        <div class="message bot-message">
          <div class="message-text">Hi there! 👋 I'm here to answer common questions. What can I help you with?</div>
          <div class="message-time">just now</div>
        </div>
      </div>

      <div class="chat-input-area">
        <input 
          type="text" 
          id="chatInput" 
          class="chat-input" 
          placeholder="Ask me anything..." 
          autocomplete="off"
        />
        <button id="chatSend" class="chat-send">↓</button>
      </div>
    </div>

    <!-- Direct Message Tab -->
    <div id="messageContent" class="chat-content" style="display: none;">
      <div style="padding: 16px; color: var(--text-muted); font-size: 0.9rem; text-align: center;">
        💌 Message me directly and I'll respond within 24 hours.
      </div>

      <form id="messageForm" class="message-form">
        <input 
          type="text" 
          id="visitorName" 
          class="form-input" 
          placeholder="Your name" 
          required
        />
        <input 
          type="email" 
          id="visitorEmail" 
          class="form-input" 
          placeholder="Your email" 
          required
        />
        <textarea 
          id="messageInput" 
          class="form-textarea" 
          placeholder="What's on your mind?" 
          rows="4" 
          required
        ></textarea>
        <button type="button" id="messageSend" class="chat-send-button">Send</button>
      </form>
    </div>
  </div>

  <!-- Back to Top button -->
  <button class="back-to-top" aria-label="Back to top">↑ Top</button>

  <!-- Welcome Popup -->
  <div class="welcome-overlay" id="welcomeOverlay"></div>
  <div class="welcome-popup" id="welcomePopup">
    <button class="welcome-close" id="welcomeClose" aria-label="Close">✕</button>
    
    <div class="welcome-content">
      <div class="welcome-emoji">🌊</div>
      
      <h2 class="welcome-title">Welcome to Peer Listening</h2>
      
      <p class="welcome-subtitle">Sometimes, all you need is someone who truly listens.</p>
      
      <div class="welcome-stats">
        <div class="stat-card">
          <div class="stat-number">27+</div>
          <div class="stat-label">Active Sessions</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">4.8★</div>
          <div class="stat-label">Client Ratings</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">5</div>
          <div class="stat-label">Languages</div>
        </div>
      </div>
      
      <p class="welcome-description">
        I'm Mirza, a trained peer listener. I'm here to listen deeply, without judgment, in your native language.
      </p>
      
      <div class="welcome-features">
        <div class="feature">✅ Confidential & Safe</div>
        <div class="feature">✅ No Advice, Just Listening</div>
        <div class="feature">✅ English, Arabic, Urdu, Hindi, Punjabi</div>
      </div>
      
      <a href="#book" class="welcome-cta">Start with a Free 15-min Intro</a>
      
      <p class="welcome-footer">HKD 200 per 50-minute session</p>
    </div>
  </div>

  <!-- Exit Intent Popup -->
  <div class="exit-intent-overlay" id="exitOverlay"></div>
  <div class="exit-intent-popup" id="exitPopup">
    <button class="exit-intent-close" id="exitClose" aria-label="Close">×</button>
    <div style="text-align: center;">
      <div style="font-size: 2.5rem; margin-bottom: 12px;">🌱</div>
      <h3 style="margin: 0 0 12px 0; color: var(--accent-dark);">Not ready yet? No pressure.</h3>
      <p style="margin: 0 0 20px 0; color: var(--text-secondary);">Get a <strong>free 15-minute intro call</strong> to see if this is right for you. Zero commitment, just a chat.</p>
      <a href="#" onclick="event.preventDefault(); document.getElementById('freeCallModal').classList.add('show'); document.getElementById('freeCallOverlay').classList.add('show');" class="cta-button" style="display: inline-block; margin-bottom: 12px;">
        🎧 Book Free Intro Call
      </a>
      <p style="margin: 0; font-size: 0.85rem; color: var(--text-muted); font-style: italic;">Or bookmark this page and come back when you're ready.</p>
    </div>
  </div>

  <script>
    // Initialize data from localStorage or with defaults
    const initializeData = () => {
      const existing = JSON.parse(localStorage.getItem('peerListeningStats')) || {
        sessions: 27,
        ratings: [4.8, 5, 5, 4, 5, 5, 4, 5] // Initialize with some data to start at 4.8
      };
      return existing;
    };

    let stats = initializeData();

    // Update display
    const updateDisplay = () => {
      document.getElementById('sessions-count').textContent = stats.sessions;
      
      // Calculate average rating
      if (stats.ratings.length > 0) {
        const avgRating = (stats.ratings.reduce((a, b) => a + b, 0) / stats.ratings.length).toFixed(1);
        document.getElementById('rating-display').textContent = avgRating;
      }
      
      // Save to localStorage
      localStorage.setItem('peerListeningStats', JSON.stringify(stats));
    };

    // Animate counters on load
    function animateCounter(el, target, duration, decimals = 0) {
      if (!el) return;
      const start = 0;
      const startTime = performance.now();
      function tick(now) {
        const progress = Math.min((now - startTime) / duration, 1);
        const value = start + (target - start) * progress;
        el.textContent = decimals ? value.toFixed(decimals) : Math.round(value);
        if (progress < 1) requestAnimationFrame(tick);
      }
      requestAnimationFrame(tick);
    }

    // Handle email booking button click
    const bookButtons = document.querySelectorAll('a[href*="mailto:mirzausamaikram@gmail.com"]');
    bookButtons.forEach(btn => {
      btn.addEventListener('click', (e) => {
        // Check if it's a session booking (not just email, but the "Book a Session" button specifically)
        if (btn.classList.contains('cta-button') || btn.textContent.includes('Book')) {
          // Increment session count
          stats.sessions += 1;
          updateDisplay();
          
          // Optional: Show confirmation
          setTimeout(() => {
            alert('✅ Session booking recorded! Your session has been added to the total.\n\nNow email me the details and I\'ll confirm your spot. Thanks for booking! 🎉');
          }, 100);
        }
      });
    });

    // Handle rating form submission
    const ratingForm = document.getElementById('rating-form');
    const ratingButtons = document.querySelectorAll('.rating-btn');
    let selectedRating = 0;

    ratingButtons.forEach(btn => {
      btn.addEventListener('click', (e) => {
        e.preventDefault();
        
        // Remove previous selection
        ratingButtons.forEach(b => {
          b.style.borderColor = 'var(--border-color)';
          b.style.background = 'var(--bg-primary)';
          b.style.transform = 'scale(1)';
        });
        
        // Highlight selected
        selectedRating = parseInt(btn.dataset.rating);
        btn.style.borderColor = 'var(--accent-primary)';
        btn.style.background = 'linear-gradient(135deg, rgba(45, 106, 123, 0.2), rgba(45, 106, 123, 0.1))';
        btn.style.transform = 'scale(1.1)';
        
        document.getElementById('selected-rating').value = selectedRating;
      });
    });

    ratingForm.addEventListener('submit', (e) => {
      e.preventDefault();
      
      if (selectedRating === 0) {
        alert('Please select a rating (1-5 stars) ⭐');
        return;
      }
      
      // Add rating to stats
      stats.ratings.push(selectedRating);
      updateDisplay();
      
      // Show success message
      const messageEl = document.getElementById('rating-message');
      messageEl.textContent = '✅ Thanks so much for the feedback! Your rating has been added.';
      messageEl.style.display = 'block';
      messageEl.style.color = 'var(--accent-secondary)';
      
      // Reset form
      setTimeout(() => {
        ratingForm.reset();
        ratingButtons.forEach(b => {
          b.style.borderColor = 'var(--border-color)';
          b.style.background = 'var(--bg-primary)';
          b.style.transform = 'scale(1)';
        });
        selectedRating = 0;
        document.getElementById('selected-rating').value = '';
        messageEl.style.display = 'none';
      }, 3000);
    });

    // Initialize display on load
    updateDisplay();

    // Run animations after display is set
    const sessionsEl = document.getElementById('sessions-count');
    const ratingEl = document.getElementById('rating-display');
    const sessionsTarget = parseInt(sessionsEl?.textContent || '27', 10);
    const ratingTarget = parseFloat(ratingEl?.textContent || '4.8');
    animateCounter(sessionsEl, sessionsTarget, 1200, 0);
    animateCounter(ratingEl, ratingTarget, 1400, 1);

    // Dark Mode Toggle
    const themeToggle = document.querySelector('.theme-toggle');
    const html = document.documentElement;

    // Check for saved user preference or system preference
    const savedTheme = localStorage.getItem('theme');
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    const initialTheme = savedTheme || (prefersDark ? 'dark' : 'light');

    // Set initial theme
    if (initialTheme === 'dark') {
      html.setAttribute('data-theme', 'dark');
      themeToggle.textContent = '☀️ Light';
    } else {
      html.removeAttribute('data-theme');
      themeToggle.textContent = '🌙 Dark';
    }

    // Toggle theme on button click
    themeToggle.addEventListener('click', () => {
      const currentTheme = html.getAttribute('data-theme');
      const newTheme = currentTheme === 'dark' ? 'light' : 'dark';

      if (newTheme === 'dark') {
        html.setAttribute('data-theme', 'dark');
        themeToggle.textContent = '☀️ Light';
      } else {
        html.removeAttribute('data-theme');
        themeToggle.textContent = '🌙 Dark';
      }

      localStorage.setItem('theme', newTheme);
    });

    // Listen for system theme changes
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
      const newTheme = e.matches ? 'dark' : 'light';
      if (!localStorage.getItem('theme')) {
        if (newTheme === 'dark') {
          html.setAttribute('data-theme', 'dark');
          themeToggle.textContent = '☀️ Light';
        } else {
          html.removeAttribute('data-theme');
          themeToggle.textContent = '🌙 Dark';
        }
      }
    });

    // Smooth scroll behavior for navigation links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({ behavior: 'smooth' });
        }
      });
    });

    // Back to top visibility
    const backToTop = document.querySelector('.back-to-top');
    window.addEventListener('scroll', () => {
      if (window.scrollY > 400) {
        backToTop?.classList.add('show');
      } else {
        backToTop?.classList.remove('show');
      }
    });
    backToTop?.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));

    // Welcome Popup
    const welcomePopup = document.getElementById('welcomePopup');
    const welcomeOverlay = document.getElementById('welcomeOverlay');
    const welcomeClose = document.getElementById('welcomeClose');

    const showWelcomePopup = () => {
      welcomePopup.classList.add('show');
      welcomeOverlay.classList.add('show');
      localStorage.setItem('welcomeShown', 'true');
    };

    const hideWelcomePopup = () => {
      welcomePopup.classList.remove('show');
      welcomeOverlay.classList.remove('show');
    };

    // Show welcome on page load (if not shown before)
    window.addEventListener('load', () => {
      setTimeout(() => {
        if (!localStorage.getItem('welcomeShown')) {
          showWelcomePopup();
        }
      }, 500); // Delay for nice effect
    });

    // Close handlers
    welcomeClose?.addEventListener('click', hideWelcomePopup);
    welcomeOverlay?.addEventListener('click', hideWelcomePopup);

    // Close when clicking CTA link
    const welcomeCTA = document.querySelector('.welcome-cta');
    welcomeCTA?.addEventListener('click', hideWelcomePopup);

    // Exit Intent Popup
    let exitIntentShown = false;
    const exitPopup = document.getElementById('exitPopup');
    const exitOverlay = document.getElementById('exitOverlay');
    const exitClose = document.getElementById('exitClose');

    const showExitIntent = () => {
      if (!exitIntentShown && !localStorage.getItem('exitIntentShown')) {
        exitPopup.classList.add('show');
        exitOverlay.classList.add('show');
        exitIntentShown = true;
        localStorage.setItem('exitIntentShown', 'true');
      }
    };

    const hideExitIntent = () => {
      exitPopup.classList.remove('show');
      exitOverlay.classList.remove('show');
    };

    // Show on mouse leaving viewport
    document.addEventListener('mouseout', (e) => {
      if (!e.toElement && !e.relatedTarget && e.clientY < 10) {
        showExitIntent();
      }
    });

    // Close handlers
    exitClose.addEventListener('click', hideExitIntent);
    exitOverlay.addEventListener('click', hideExitIntent);

    // Reset after 24 hours
    const exitShownTime = localStorage.getItem('exitIntentTime');
    if (exitShownTime && Date.now() - parseInt(exitShownTime) > 86400000) {
      localStorage.removeItem('exitIntentShown');
      localStorage.removeItem('exitIntentTime');
    }
    if (!exitShownTime) {
      localStorage.setItem('exitIntentTime', Date.now().toString());
    }

    // Chat Widget System with Translation
    const chatWidget = {
      // Language detection using character ranges
      detectLanguage(text) {
        // Arabic (includes Urdu/Persian)
        if (/[\u0600-\u06FF]/.test(text)) return 'ar';
        // Hindi/Devanagari
        if (/[\u0900-\u097F]/.test(text)) return 'hi';
        // Punjabi/Gurmukhi
        if (/[\u0A00-\u0A7F]/.test(text)) return 'pa';
        // Default to English
        return 'en';
      },

      // Translate text using MyMemory API (free, no key needed)
      async translateText(text, sourceLang, targetLang) {
        if (sourceLang === targetLang) return text;
        
        try {
          const response = await fetch(
            `https://api.mymemory.translated.net/get?q=${encodeURIComponent(text)}&langpair=${sourceLang}|${targetLang}`
          );
          const data = await response.json();
          return data.responseData?.translatedText || text;
        } catch (error) {
          console.log('Translation unavailable, showing original:', error);
          return text;
        }
      },

      // FAQ Database for AI responses
      faqs: {
        price: {
          keywords: ['price', 'cost', 'how much', 'fee', 'charge', 'payment'],
          response: 'Our peer listening sessions are HKD 200 per 50-minute session. We also offer a free 15-minute intro call to see if we\'re a good fit for you!'
        },
        booking: {
          keywords: ['book', 'schedule', 'availability', 'appointment', 'when'],
          response: 'You can book directly using our calendar (available Mon-Wed, limited Thu, and closed Fri-Sun). Click the booking button or scroll to "Ready to Start Listening?" section to get started!'
        },
        languages: {
          keywords: ['language', 'speak', 'english', 'arabic', 'urdu', 'hindi', 'punjabi'],
          response: 'I speak English, Arabic, Urdu, Hindi, and Punjabi. I\'m culturally fluent and understand nuances specific to different communities. 🌍'
        },
        cancel: {
          keywords: ['cancel', 'refund', 'change', 'reschedule', 'postpone'],
          response: 'You can reschedule or cancel up to 24 hours before your session with no penalty. For cancellations within 24 hours, please message me directly!'
        },
        crisis: {
          keywords: ['crisis', 'emergency', 'suicide', 'help', 'urgent', 'harm'],
          response: 'If you\'re in crisis, please reach out to a crisis line: Hong Kong: 2389 2222 | US: 988 Suicide & Crisis Lifeline. I\'m here to support your wellbeing, but emergency situations need immediate professional help. ❤️'
        },
        process: {
          keywords: ['process', 'what happens', 'session', 'format', 'structure'],
          response: 'Each session: (1) We settle in & you share what\'s on your mind (2) I listen deeply with empathy (3) We explore what you need from this space (4) You leave feeling understood & supported. Pure listening—no advice unless you ask!'
        },
        gift: {
          keywords: ['gift', 'give', 'friend', 'present', 'voucher'],
          response: 'Absolutely! You can gift sessions. Message me directly and we\'ll sort out the details—gift messages, recipient email, and session scheduling. Perfect for someone who needs a listening ear! 💝'
        },
        notes: {
          keywords: ['notes', 'record', 'transcript', 'notes'],
          response: 'I don\'t record or take notes (privacy first! 🔒). You\'re welcome to take your own notes if it helps you process. Everything shared stays between us.'
        },
        emotional: {
          keywords: ['cry', 'crying', 'emotional', 'feel', 'safe'],
          response: 'Yes, crying is absolutely OK! This space is safe for all emotions. Tears aren\'t a sign of weakness—they\'re part of processing and healing. You won\'t be judged here. 💙'
        },
        about: {
          keywords: ['about', 'who are you', 'background', 'experience', 'founder'],
          response: 'I\'m Mirza, a trained peer listener & psychology graduate who found meaning in deep listening. I started this because I believe everyone deserves someone who really gets it. My own struggles taught me the power of being truly heard. 🌊'
        }
      },

      // Initialize chat widget
      init() {
        this.loadMessages();
        this.setupEventListeners();
        this.initializeTimestamps();
      },

      // Load messages from localStorage
      loadMessages() {
        const stored = localStorage.getItem('chatMessages');
        this.messages = stored ? JSON.parse(stored) : [];
      },

      // Save messages to localStorage
      saveMessages() {
        localStorage.setItem('chatMessages', JSON.stringify(this.messages));
      },

      // Format timestamp
      getTimestamp() {
        const now = new Date();
        return now.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', hour12: true });
      },

      // Initialize timestamps for existing messages
      initializeTimestamps() {
        this.messages.forEach(msg => {
          if (!msg.timestamp) {
            msg.timestamp = this.getTimestamp();
          }
        });
        this.saveMessages();
      },

      // Find best matching FAQ response
      getAIResponse(userMessage) {
        const lowerMessage = userMessage.toLowerCase();
        
        // Check each FAQ category
        for (const [key, faq] of Object.entries(this.faqs)) {
          for (const keyword of faq.keywords) {
            if (lowerMessage.includes(keyword)) {
              return faq.response;
            }
          }
        }
        
        // Fallback response
        return "I'm not sure about that! Feel free to message me directly and I'll get back to you ASAP. You can also check the FAQs above or book a free intro call to chat more! 😊";
      },

      // Setup event listeners
      setupEventListeners() {
        const chatBubble = document.getElementById('chatBubble');
        const chatWidget = document.getElementById('chatWidget');
        const closeChat = document.getElementById('closeChat');
        const aiTab = document.getElementById('aiTab');
        const messageTab = document.getElementById('messageTab');
        const chatContent = document.getElementById('chatContent');
        const messageContent = document.getElementById('messageContent');
        const chatInput = document.getElementById('chatInput');
        const chatSend = document.getElementById('chatSend');
        const messageForm = document.getElementById('messageForm');
        const messageInput = document.getElementById('messageInput');
        const messageSend = document.getElementById('messageSend');
        const messagesContainer = document.getElementById('messagesContainer');

        // Toggle widget
        chatBubble.addEventListener('click', () => {
          chatWidget.classList.toggle('show');
          if (chatWidget.classList.contains('show')) {
            chatInput.focus();
          }
        });

        closeChat.addEventListener('click', () => {
          chatWidget.classList.remove('show');
        });

        // Tab switching
        aiTab.addEventListener('click', () => {
          aiTab.classList.add('active');
          messageTab.classList.remove('active');
          chatContent.style.display = 'flex';
          messageContent.style.display = 'none';
          chatInput.focus();
        });

        messageTab.addEventListener('click', () => {
          messageTab.classList.add('active');
          aiTab.classList.remove('active');
          chatContent.style.display = 'none';
          messageContent.style.display = 'flex';
          messageInput.focus();
        });

        // Chat input handling with translation
        const sendMessage = async () => {
          const text = chatInput.value.trim();
          if (text) {
            const userLanguage = this.detectLanguage(text);
            
            // Display original user message
            this.messages.push({
              type: 'user',
              text: text,
              language: userLanguage,
              timestamp: this.getTimestamp()
            });
            this.saveMessages();
            this.displayMessage('user', text, userLanguage);
            chatInput.value = '';

            // Show typing indicator
            this.displayMessage('typing', '');
            
            // Translate user message to English for processing
            let englishText = text;
            if (userLanguage !== 'en') {
              englishText = await this.translateText(text, userLanguage, 'en');
            }

            setTimeout(async () => {
              // Remove typing indicator and add AI response
              const lastMessage = messagesContainer.lastChild;
              if (lastMessage?.classList.contains('typing-indicator')) {
                lastMessage.remove();
              }
              
              // Get response based on English translation
              let response = this.getAIResponse(englishText);
              
              // Translate response back to user's language if needed
              let translatedResponse = response;
              if (userLanguage !== 'en') {
                translatedResponse = await this.translateText(response, 'en', userLanguage);
              }
              
              this.messages.push({
                type: 'bot',
                text: translatedResponse,
                language: userLanguage,
                originalText: response,
                timestamp: this.getTimestamp()
              });
              this.saveMessages();
              this.displayMessage('bot', translatedResponse, userLanguage);
            }, 800);
          }
        };

        chatSend.addEventListener('click', sendMessage);
        chatInput.addEventListener('keypress', (e) => {
          if (e.key === 'Enter' && !e.shiftKey) {
            e.preventDefault();
            sendMessage();
          }
        });

        // Direct message handling with translation
        messageSend.addEventListener('click', async () => {
          const name = document.getElementById('visitorName').value.trim();
          const email = document.getElementById('visitorEmail').value.trim();
          const message = messageInput.value.trim();

          if (name && email && message) {
            const msgLanguage = chatWidget.detectLanguage(message);
            
            // Translate to English if needed for your reference
            let englishMessage = message;
            if (msgLanguage !== 'en') {
              englishMessage = await chatWidget.translateText(message, msgLanguage, 'en');
            }
            
            // Save message to localStorage
            const directMessages = JSON.parse(localStorage.getItem('directMessages') || '[]');
            directMessages.push({
              name,
              email,
              message,
              englishTranslation: msgLanguage !== 'en' ? englishMessage : null,
              language: msgLanguage,
              timestamp: this.getTimestamp()
            });
            localStorage.setItem('directMessages', JSON.stringify(directMessages));

            // Show confirmation
            messageSend.textContent = '✓ Message saved!';

            messageSend.disabled = true;
            messageForm.reset();
            
            setTimeout(() => {
              messageSend.textContent = 'Send';
              messageSend.disabled = false;
            }, 3000);
          }
        });

        // Display existing messages
        this.displayAllMessages();
      },

      // Display message in chat with language indicator
      displayMessage(type, text, language = 'en') {
        const messagesContainer = document.getElementById('messagesContainer');
        const messageEl = document.createElement('div');
        
        const languageFlags = {
          'en': '🇬🇧',
          'ur': '🇵🇰',
          'ar': '🇸🇦',
          'hi': '🇮🇳',
          'pa': '🇵🇧'
        };
        
        if (type === 'typing') {
          messageEl.className = 'message bot-message typing-indicator';
          messageEl.innerHTML = '<div class="typing-dot"></div><div class="typing-dot"></div><div class="typing-dot"></div>';
        } else {
          messageEl.className = `message ${type}-message`;
          const timestamp = type === 'user' ? 
            this.messages[this.messages.length - 1]?.timestamp : 
            this.messages[this.messages.length - 1]?.timestamp;
          
          const langFlag = language !== 'en' ? `<span class="language-badge">${languageFlags[language] || '🌐'}</span>` : '';
          messageEl.innerHTML = `<div class="message-text">${langFlag}${this.escapeHtml(text)}</div><div class="message-time">${timestamp || this.getTimestamp()}</div>`;
        }
        
        messagesContainer.appendChild(messageEl);
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
      },

      // Display all stored messages with translation
      displayAllMessages() {
        const messagesContainer = document.getElementById('messagesContainer');
        messagesContainer.innerHTML = '';
        
        // Show welcome message
        const welcomeEl = document.createElement('div');
        welcomeEl.className = 'message bot-message';
        welcomeEl.innerHTML = `<div class="message-text">Hi there! 👋 I'm here to answer common questions. What can I help you with?</div><div class="message-time">just now</div>`;
        messagesContainer.appendChild(welcomeEl);
        
        this.messages.forEach(msg => {
          const messageEl = document.createElement('div');
          messageEl.className = `message ${msg.type}-message`;
          
          const languageFlags = {
            'en': '🇬🇧',
            'ur': '🇵🇰',
            'ar': '🇸🇦',
            'hi': '🇮🇳',
            'pa': '🇵🇧'
          };
          
          const lang = msg.language || 'en';
          const langFlag = lang !== 'en' ? `<span class="language-badge">${languageFlags[lang] || '🌐'}</span>` : '';
          
          messageEl.innerHTML = `<div class="message-text">${langFlag}${this.escapeHtml(msg.text)}</div><div class="message-time">${msg.timestamp || this.getTimestamp()}</div>`;
          messagesContainer.appendChild(messageEl);
        });
        
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
      },

      // Escape HTML to prevent XSS
      escapeHtml(text) {
        const div = document.createElement('div');
        div.textContent = text;
        return div.innerHTML;
      }
    };

    // Initialize chat widget when DOM is ready
    chatWidget.init();

    // Free Call Booking System
    const freeCallModal = document.getElementById('freeCallModal');
    const freeCallOverlay = document.getElementById('freeCallOverlay');
    const freeCallClose = document.getElementById('freeCallClose');
    const freeCallForm = document.getElementById('freeCallForm');

    // Show modal when clicking free call CTAs
    document.querySelectorAll('.welcome-cta, a[href*="Book%20Free"]').forEach(btn => {
      btn.addEventListener('click', (e) => {
        e.preventDefault();
        freeCallModal.classList.add('show');
        freeCallOverlay.classList.add('show');
      });
    });

    // Close modal
    const closeModal = () => {
      freeCallModal.classList.remove('show');
      freeCallOverlay.classList.remove('show');
    };

    freeCallClose.addEventListener('click', closeModal);
    freeCallOverlay.addEventListener('click', closeModal);

    // Handle free call form submission
    freeCallForm.addEventListener('submit', (e) => {
      e.preventDefault();

      const name = document.getElementById('callName').value.trim();
      const email = document.getElementById('callEmail').value.trim();
      const language = document.getElementById('callLanguage').value;
      const availability = document.getElementById('callAvailability').value.trim();

      if (!name || !email || !language) {
        alert('Please fill in all required fields');
        return;
      }

      // Save to localStorage
      const freeCalls = JSON.parse(localStorage.getItem('freeCallBookings') || '[]');
      freeCalls.push({
        name,
        email,
        language,
        availability,
        timestamp: new Date().toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', hour12: true }) + ' ' + new Date().toLocaleDateString()
      });
      localStorage.setItem('freeCallBookings', JSON.stringify(freeCalls));

      // Send email (opens email client)
      const emailSubject = '15-min%20Intro%20Call%20Request';
      const emailBody = `Hi Usama,%0A%0AI'd like to book a free 15-minute intro call.%0A%0AName: ${encodeURIComponent(name)}%0AEmail: ${encodeURIComponent(email)}%0ALanguage: ${language}%0AAvailability: ${encodeURIComponent(availability || 'Flexible')}%0A%0AThanks!`;
      window.location.href = `mailto:mirzausamaikram@gmail.com?subject=${emailSubject}&body=${emailBody}`;

      // Close modal and reset form
      setTimeout(() => {
        closeModal();
        freeCallForm.reset();
        alert('✅ Free call request saved! Check your email for confirmation.');
      }, 100);
    });

    // Admin Panel Management
    const adminPanel = document.getElementById('adminPanel');
    const adminClose = document.getElementById('adminClose');
    const adminTabs = document.querySelectorAll('.admin-tab');
    const adminTabContents = document.querySelectorAll('.admin-tab-content');
    const messagesList = document.getElementById('messagesList');
    const exportJSON = document.getElementById('exportJSON');
    const exportCSV = document.getElementById('exportCSV');
    const clearData = document.getElementById('clearData');

    // Keyboard shortcut to open admin: Ctrl+Shift+A
    document.addEventListener('keydown', (e) => {
      if (e.ctrlKey && e.shiftKey && e.key === 'A') {
        e.preventDefault();
        adminPanel.classList.toggle('show');
        refreshAdminPanel();
      }
    });

    adminClose.addEventListener('click', () => {
      adminPanel.classList.remove('show');
    });

    // Admin tabs functionality
    adminTabs.forEach(tab => {
      tab.addEventListener('click', () => {
        const tabName = tab.dataset.tab;
        
        // Remove active from all tabs and contents
        adminTabs.forEach(t => t.classList.remove('active'));
        adminTabContents.forEach(tc => tc.classList.remove('active'));
        
        // Add active to clicked tab and corresponding content
        tab.classList.add('active');
        document.getElementById(tabName + 'Tab').classList.add('active');
      });
    });

    // Refresh admin panel data
    function refreshAdminPanel() {
      const directMessages = JSON.parse(localStorage.getItem('directMessages') || '[]');
      const freeCalls = JSON.parse(localStorage.getItem('freeCallBookings') || '[]');
      
      // Refresh messages tab
      const messagesList = document.getElementById('messagesList');
      if (directMessages.length === 0) {
        messagesList.innerHTML = '<p style="text-align: center; color: var(--text-muted);">No messages yet</p>';
      } else {
        messagesList.innerHTML = directMessages.map((msg, idx) => `
          <div class="message-item">
            <div class="message-from">📧 ${escapeHTML(msg.name)} (${escapeHTML(msg.email)})</div>
            <div class="message-text">${escapeHTML(msg.message)}</div>
            ${msg.englishTranslation ? `<div class="message-text" style="opacity: 0.7; font-style: italic; margin-top: 6px;">🔤 ${escapeHTML(msg.englishTranslation)}</div>` : ''}
            <div class="message-time">🕐 ${msg.timestamp || 'N/A'}</div>
          </div>
        `).join('');
      }

      // Refresh free calls tab
      const callsList = document.getElementById('callsList');
      if (freeCalls.length === 0) {
        callsList.innerHTML = '<p style="text-align: center; color: var(--text-muted);">No free intro call bookings yet</p>';
      } else {
        callsList.innerHTML = freeCalls.map((call, idx) => `
          <div class="message-item">
            <div class="message-from">🎧 ${escapeHTML(call.name)} (${escapeHTML(call.email)})</div>
            <div class="message-text"><strong>Language:</strong> ${call.language}</div>
            <div class="message-text"><strong>Available:</strong> ${call.availability || 'Flexible'}</div>
            <div class="message-time">🕐 ${call.timestamp || 'N/A'}</div>
          </div>
        `).join('');
      }
    }

    // Export as JSON
    exportJSON.addEventListener('click', () => {
      const directMessages = JSON.parse(localStorage.getItem('directMessages') || '[]');
      const dataStr = JSON.stringify(directMessages, null, 2);
      downloadFile(dataStr, 'messages.json', 'application/json');
    });

    // Export as CSV
    exportCSV.addEventListener('click', () => {
      const directMessages = JSON.parse(localStorage.getItem('directMessages') || '[]');
      const headers = ['Name', 'Email', 'Message', 'Language', 'Timestamp'];
      const rows = directMessages.map(msg => [
        msg.name,
        msg.email,
        msg.message,
        msg.language || 'en',
        msg.timestamp
      ]);

      let csv = headers.join(',') + '\n';
      rows.forEach(row => {
        csv += row.map(cell => `"${String(cell).replace(/"/g, '""')}"`).join(',') + '\n';
      });

      downloadFile(csv, 'messages.csv', 'text/csv');
    });

    // Clear all data
    clearData.addEventListener('click', () => {
      if (confirm('🔴 Are you sure you want to delete ALL messages? This cannot be undone.')) {
        localStorage.removeItem('directMessages');
        refreshAdminPanel();
        alert('✅ All messages cleared');
      }
    });

    // Helper function to escape HTML
    function escapeHTML(text) {
      const div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML;
    }

    // Helper function to download file
    function downloadFile(content, filename, type) {
      const blob = new Blob([content], { type });
      const url = window.URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = filename;
      document.body.appendChild(a);
      a.click();
      window.URL.revokeObjectURL(url);
      document.body.removeChild(a);
      alert('✅ File downloaded: ' + filename);
    }

    // Free Intro Call Modal Management
    const freeCallModal = document.getElementById('freeCallModal');
    const freeCallOverlay = document.getElementById('freeCallOverlay');
    const freeCallClose = document.getElementById('freeCallClose');
    const freeCallForm = document.getElementById('freeCallForm');

    freeCallClose?.addEventListener('click', () => {
      freeCallModal.classList.remove('show');
      freeCallOverlay.classList.remove('show');
    });

    freeCallOverlay?.addEventListener('click', () => {
      freeCallModal.classList.remove('show');
      freeCallOverlay.classList.remove('show');
    });

    freeCallForm?.addEventListener('submit', (e) => {
      e.preventDefault();

      const name = document.getElementById('callName').value.trim();
      const email = document.getElementById('callEmail').value.trim();
      const language = document.getElementById('callLanguage').value;
      const availability = document.getElementById('callAvailability').value.trim();
      const message = document.getElementById('callMessage').value.trim();

      if (name && email && language && availability) {
        // Save to localStorage
        const freeIntroCalls = JSON.parse(localStorage.getItem('freeIntroCalls') || '[]');
        freeIntroCalls.push({
          name,
          email,
          language,
          availability,
          message,
          timestamp: new Date().toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', hour12: true })
        });
        localStorage.setItem('freeIntroCalls', JSON.stringify(freeIntroCalls));

        // Show success message
        alert(`✅ Thanks ${name}! I'll reach out to ${email} soon to schedule your free call. 🎧`);

        // Close modal
        freeCallModal.classList.remove('show');
        freeCallOverlay.classList.remove('show');

        // Reset form
        freeCallForm.reset();

        // Update admin panel if visible
        refreshAdminPanel();
      }
    });

    // Update refreshAdminPanel to include free calls
    const originalRefreshAdminPanel = refreshAdminPanel;
    refreshAdminPanel = function() {
      const directMessages = JSON.parse(localStorage.getItem('directMessages') || '[]');
      const freeIntroCalls = JSON.parse(localStorage.getItem('freeIntroCalls') || '[]');

      // Update messages tab
      if (directMessages.length === 0) {
        messagesList.innerHTML = '<p style="text-align: center; color: var(--text-muted);">No messages yet</p>';
      } else {
        messagesList.innerHTML = directMessages.map((msg, idx) => `
          <div class="message-item">
            <div class="message-from">📧 ${escapeHTML(msg.name)} (${escapeHTML(msg.email)})</div>
            <div class="message-text">${escapeHTML(msg.message)}</div>
            ${msg.englishTranslation ? `<div class="message-text" style="opacity: 0.7; font-style: italic; margin-top: 6px;">🔤 ${escapeHTML(msg.englishTranslation)}</div>` : ''}
            <div class="message-time">🕐 ${msg.timestamp || 'N/A'}</div>
          </div>
        `).join('');
      }

      // Update free calls tab
      const callsList = document.getElementById('callsList');
      if (freeIntroCalls.length === 0) {
        callsList.innerHTML = '<p style="text-align: center; color: var(--text-muted);">No free intro call bookings yet</p>';
      } else {
        callsList.innerHTML = freeIntroCalls.map((call, idx) => `
          <div class="message-item">
            <div class="message-from">🎧 ${escapeHTML(call.name)} (${escapeHTML(call.email)})</div>
            <div class="message-text"><strong>Language:</strong> ${call.language}</div>
            <div class="message-text"><strong>Availability:</strong> ${escapeHTML(call.availability)}</div>
            ${call.message ? `<div class="message-text"><strong>Notes:</strong> ${escapeHTML(call.message)}</div>` : ''}
            <div class="message-time">🕐 ${call.timestamp || 'N/A'}</div>
          </div>
        `).join('');
      }
    };
  </script>

</body>
</html>

